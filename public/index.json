[{"authors":["admin"],"categories":null,"content":"I am a clinical trial statistician specialising in early phase trial methodology. I have experience in cancer and non-cancer trials. I have authored several methodology papers. I lead a MSc module on early phase trials and am currently supervising a PhD on trial methodology.\n","date":1587513600,"expirydate":-62135596800,"kind":"taxonomy","lang":"en","lastmod":1587591716,"objectID":"2525497d367e79493fd32b198b28f040","permalink":"/authors/admin/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/admin/","section":"authors","summary":"I am a clinical trial statistician specialising in early phase trial methodology. I have experience in cancer and non-cancer trials. I have authored several methodology papers. I lead a MSc module on early phase trials and am currently supervising a PhD on trial methodology.","tags":null,"title":"Kristian Brock","type":"authors"},{"authors":null,"categories":null,"content":"Introduction I lead the bootcamp programme to teach technical skills to new biostatisticians at the Cancer Research UK Clinical Trials Unit, University of Birmingham. The programme was delivered for the first time during Sep-Dec 2019, consisting of 42 hours of tuition delivered over 21 sessions by 10 members of CRCTU's Biostatistics team. Sessions were taught in computer laboratories and material was example-based so attendees devoted a lot of time to implementing what they were learning.\nA cornerstone of the programme was to teach methods for repeatable research, like using statistical software to automatically create reports and source control software to manage mission-critical code. The course also covered modern statistical approaches to common yet sometimes thorny tasks like dose-finding, sub-group analyses, Bayesian analysis, and modelling of repeated measures.\nBootcamp was primarily aimed at new recruits but statisticians with many years\u0026rsquo; experience also attended to develop their technical skills. Sessions were presented by members of the team in their particular field of expertise, creating an environment where the team educated itself. In some sessions, even the professors of biostatistics featured amongst the attendees.\nThe programme will be implemented again to train recruits in 2020, and expanded to cover further trials topics.\nMaterial Sessions are presented as learnr tutorials and packaged as an R-package called bootcamp hosted on GitHub.\nTo install the package on your computer, run\ndevtools::install_github('brockk/bootcamp')\nin R.\nRunning bootcamp tutorials Locally To run a tutorial locally, you use a command like:\nlearnr::run_tutorial('intro', package = 'bootcamp')\nYou can substitute intro above for:\n bootcamp intro folders git ggplot2 markdown rmarkdown snapshots tidyverse models repeatedmeasures subgroups stan  On RStudio Cloud You do not have to install bootcamp to use it, however. The tutorials are installed on a public RStudio Cloud instance at:\nhttps://rstudio.cloud/project/454702\nYou are free to run them there. Look for the Run.R file.\nFurther details are available at https://github.com/brockk/bootcamp. Please note, the bootcamp package is not on CRAN.\nHappy learning. Kristian Brock\n","date":1577491200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1579246482,"objectID":"c21d6b30d6e6d5e484ce0ffa3b73e1cb","permalink":"/courses/bootcamp/","publishdate":"2019-12-28T00:00:00Z","relpermalink":"/courses/bootcamp/","section":"courses","summary":"A programme to teach technical skills to new biostatisticians at the Cancer Research UK Clinical Trials Unit, University of Birmingham. Sessions are presented as learnr tutorials.","tags":null,"title":"bootcamp","type":"docs"},{"authors":null,"categories":null,"content":"Introduction I lead the Early Phase Clinical Trials module at the University of Birmingham. The module is a core part of the university's new MSc in Clinical Trials. It runs over five consecutive days from 9th to 13th March 2020.\nDay One Day one is concerned with dose-finding trials. We learn about the fundamentals of dose-finding and the perennial yet underwhelming 3+3 method. We will perform hands-on analysis using R, RStudio and Shiny web apps to simulate virtual trials and observe how the 3+3 method comes unstuck. We also delve into some of the historic disasters that have occurred in dose-finding trials and look at features in the design and conduct that can ameliorate the dangers.\nDay Two Day two builds on the material from day one by introducing model-based dose-finding methods. We focus in particular on the continual reassessment method (CRM). We learn about model fitting and interpretation, and see the method in action in practical sessions. We then look at how model-based dose-finding trials are reported in journals. We finish the day by hearing testimony from a patient on a dose-finding trial at CRCTU.\nDay Three On day three we leave dose-finding behind and turn our focus to phase II trials. On this day we learn about the different approaches to phase II trials, including the suite of optimal designs with fixed sample size, like A'Hern's, Simon's two-stage, and Bryant \u0026amp; Day's designs. We conclude with an interview of a patient from the Clarity trial at CRCTU.\nDay Four On day four, we cover advanced topics at phase II. This includes the use of surrogate outcomes when it is impossible to observe the clinical outcome of primary interest in a reasonable time frame. We also look at co-primary outcomes, and the roles of biomarkers and subgroups.\nDay Five Day five is a special day devoted to Complex and Innovative Designs, a group that includes basket trials, umbrella trials, and platform trials. These designs have proliferated in cancer in recent years as we have discovered many potential driver mutations, allowing trialists to investigate therapies that target specific genetic aberrations. We study examples run by the University of Birmingham's two trials units. We then look at these designs from the point of view of a competent authority, like the MHRA, the EMA or the FDA.\nTo learn more, visit the course webpage at https://www.birmingham.ac.uk/postgraduate/courses/taught/med/pg-modules/early-phase-clinical-trials.aspx.\n","date":1577491200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1579246482,"objectID":"c8e361319c51b2ed52aeb7c6cab606d9","permalink":"/courses/epct/","publishdate":"2019-12-28T00:00:00Z","relpermalink":"/courses/epct/","section":"courses","summary":"A module of the MSc in Clinical Trials offered by the University of Birmingham, focussing on phase I and phase II clinical trials.","tags":null,"title":"Early Phase Clinical Trials","type":"docs"},{"authors":[],"categories":null,"content":" Click on the Slides button above to view the built-in slides feature.   Slides can be added in a few ways:\n Create slides using Academic's Slides feature and link using slides parameter in the front matter of the talk file Upload an existing slide deck to static/ and link using url_slides parameter in the front matter of the talk file Embed your slides (e.g. Google Slides) or presentation video on this page using shortcodes.  Further talk details can easily be added to this page using Markdown and $\\rm \\LaTeX$ math code.\n","date":1906549200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1577611673,"objectID":"96344c08df50a1b693cc40432115cbe3","permalink":"/talk/example/","publishdate":"2017-01-01T00:00:00Z","relpermalink":"/talk/example/","section":"talk","summary":"An example talk using Academic's Markdown slides feature.","tags":[],"title":"Example Talk","type":"talk"},{"authors":["Kristian Brock"],"categories":["Code"],"content":"    Introduction Dose-finding clinical trials investigate experimental agents, seeking doses that are tolerable and active. They commonly use some dose-selection model to analyse binary outcomes at increasing doses in cohorts of patients. It is possible to analyse the behaviour of a dose-finding design by exhaustively calculating every possible set of outcomes and invoking the dose selection model on each. We will refer to these hypothetical sequences of doses in response to outcomes as dose-paths.\nAn example will make this clear. The 3+3 design is widely understood. One of its benefits is its simplicity. Let us investigate the first two cohorts of three patients in the 3+3 variant that permits de-escalation. We calculate dose-paths in escalation using the get_dose_paths function:\nlibrary(escalation) ## Loading required package: magrittr paths \u0026lt;- get_three_plus_three(num_doses = 5, allow_deescalate = TRUE) %\u0026gt;% get_dose_paths(cohort_sizes = c(3, 3)) get_dose_paths takes a dose-selection methodology and enumerates every possible path according to the cohort sizes that you specify. The returned paths object contains lot of information but the most pertinent perhaps is the sequence of dose-recommendations in response to hypothetical outcomes:\npaths ## Give dose 1: ## NNN -\u0026gt; 2 ## NNN -\u0026gt; 3 ## NNT -\u0026gt; 2 ## NTT -\u0026gt; 1 ## TTT -\u0026gt; 1 ## NNT -\u0026gt; 1 ## NNN -\u0026gt; 2 ## NNT -\u0026gt; NA ## NTT -\u0026gt; NA ## TTT -\u0026gt; NA ## NTT -\u0026gt; NA ## TTT -\u0026gt; NA We see above that the trial starts at dose 1. If three non-toxicities (N) are seen, the algorithm advocates escalation to dose 2. In constrast if two or more toxicities (T) are seen in the first cohort, no dose is selected (the dose is NA) and the trial stops. Subsequent cohorts are represented by greater levels of indentation.\nThis information is better represented by a graph. If you are using RStudio, the graph will appear in the Viewer pane. (In this vignette, we suppress non-RStudio demonstration of the graphs to avoid problems on CRAN computers.)\ngraph_paths(paths)  {\"x\":{\"diagram\":\"digraph {\\n\\ngraph [layout = \\\"neato\\\",\\n outputorder = \\\"edgesfirst\\\",\\n bgcolor = \\\"white\\\"]\\n\\nnode [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"10\\\",\\n shape = \\\"circle\\\",\\n fixedsize = \\\"true\\\",\\n width = \\\"0.5\\\",\\n style = \\\"filled\\\",\\n fillcolor = \\\"aliceblue\\\",\\n color = \\\"gray70\\\",\\n fontcolor = \\\"gray50\\\"]\\n\\nedge [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"8\\\",\\n len = \\\"1.5\\\",\\n color = \\\"gray80\\\",\\n arrowsize = \\\"0.5\\\"]\\n\\n \\\"1\\\" [label = \\\"1\\\", fontcolor = \\\"#7AD151FF\\\", fillcolor = \\\"#414487FF\\\"] \\n \\\"2\\\" [label = \\\"2\\\", fontcolor = \\\"#FDE725FF\\\", fillcolor = \\\"#2A788EFF\\\"] \\n \\\"3\\\" [label = \\\"3\\\", fontcolor = \\\"#440154FF\\\", fillcolor = \\\"#22A884FF\\\"] \\n \\\"4\\\" [label = \\\"1\\\", fontcolor = \\\"#7AD151FF\\\", fillcolor = \\\"#414487FF\\\"] \\n \\\"5\\\" [label = \\\"2\\\", fontcolor = \\\"#FDE725FF\\\", fillcolor = \\\"#2A788EFF\\\"] \\n \\\"6\\\" [label = \\\"Stop\\\", fontcolor = \\\"#22A884FF\\\", fillcolor = \\\"#440154FF\\\"] \\n \\\"7\\\" [label = \\\"Stop\\\", fontcolor = \\\"#22A884FF\\\", fillcolor = \\\"#440154FF\\\"] \\n \\\"8\\\" [label = \\\"2\\\", fontcolor = \\\"#FDE725FF\\\", fillcolor = \\\"#2A788EFF\\\"] \\n \\\"9\\\" [label = \\\"Stop\\\", fontcolor = \\\"#22A884FF\\\", fillcolor = \\\"#440154FF\\\"] \\n \\\"10\\\" [label = \\\"1\\\", fontcolor = \\\"#7AD151FF\\\", fillcolor = \\\"#414487FF\\\"] \\n \\\"11\\\" [label = \\\"Stop\\\", fontcolor = \\\"#22A884FF\\\", fillcolor = \\\"#440154FF\\\"] \\n \\\"12\\\" [label = \\\"1\\\", fontcolor = \\\"#7AD151FF\\\", fillcolor = \\\"#414487FF\\\"] \\n \\\"13\\\" [label = \\\"Stop\\\", fontcolor = \\\"#22A884FF\\\", fillcolor = \\\"#440154FF\\\"] \\n\\\"1\\\"-\\\"2\\\" [label = \\\"NNN\\\"] \\n\\\"2\\\"-\\\"3\\\" [label = \\\"NNN\\\"] \\n\\\"1\\\"-\\\"4\\\" [label = \\\"NNT\\\"] \\n\\\"4\\\"-\\\"5\\\" [label = \\\"NNN\\\"] \\n\\\"1\\\"-\\\"6\\\" [label = \\\"NTT\\\"] \\n\\\"1\\\"-\\\"7\\\" [label = \\\"TTT\\\"] \\n\\\"2\\\"-\\\"8\\\" [label = \\\"NNT\\\"] \\n\\\"4\\\"-\\\"9\\\" [label = \\\"NNT\\\"] \\n\\\"2\\\"-\\\"10\\\" [label = \\\"NTT\\\"] \\n\\\"4\\\"-\\\"11\\\" [label = \\\"NTT\\\"] \\n\\\"2\\\"-\\\"12\\\" [label = \\\"TTT\\\"] \\n\\\"4\\\"-\\\"13\\\" [label = \\\"TTT\\\"] \\n}\",\"config\":{\"engine\":\"dot\",\"options\":null}},\"evals\":[],\"jsHooks\":[]} The blue node towards the centre bearing the number 1 represents the start of the trial. The edges of the graph (the lines connecting the nodes) represent the outcomes in cohorts of patients. As before, we see that if three N events are seen, the trial escalates to dose 2. Three patients are assumed to be treated at that dose and from there, further escalation to dose 3 will be advised if no toxicity is seen. In contrast, dose 2 will be retained for a further cohort of three if a single toxicity is seen, and de-escalation to dose 1 will occur if two or more toxicities are seen. This is exactly the behaviour we expect from the 3+3 design.\nDose-paths were introduced in the phase I setting that we consider here by Yap et al. (2017). Their phase I/II analogue was introduced by Brock et al. (2017) for dose-finding trials that consider efficacy and toxicity outcomes.\n Other Models CRM The above example uses the 3+3 design but other methods are available. In fact, early phase statisticians would much prefer that you use a model-based method (Wheeler et al. 2019). The escalation package is intentionally written so that all dose selectors look the same, regardless the implementation-level details. In computing terminology, dose selectors in escalation support a common interface. This makes it trivial to calculate dose-paths for all dose-selectors - we just use the get_dose_paths function again.\nLet us investigate a continual reassessment method (CRM) design now, as described by O’Quigley, Pepe, and Fisher (1990) and implemented by the dfcrm package (Cheung 2013). We must specify a dose-toxicity skeleton, and a target toxicity level:\nskeleton \u0026lt;- c(0.05, 0.1, 0.25, 0.4, 0.6) target \u0026lt;- 0.25 We can then specify a CRM model and calculate dose-paths as before:\npaths \u0026lt;- get_dfcrm(skeleton = skeleton, target = target) %\u0026gt;% get_dose_paths(cohort_sizes = c(3, 3)) When we graph the paths this time (and adopt a different colour palette for fun):\ngraph_paths(paths, viridis_palette = \u0026#39;magma\u0026#39;)  {\"x\":{\"diagram\":\"digraph {\\n\\ngraph [layout = \\\"neato\\\",\\n outputorder = \\\"edgesfirst\\\",\\n bgcolor = \\\"white\\\"]\\n\\nnode [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"10\\\",\\n shape = \\\"circle\\\",\\n fixedsize = \\\"true\\\",\\n width = \\\"0.5\\\",\\n style = \\\"filled\\\",\\n fillcolor = \\\"aliceblue\\\",\\n color = \\\"gray70\\\",\\n fontcolor = \\\"gray50\\\"]\\n\\nedge [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"8\\\",\\n len = \\\"1.5\\\",\\n color = \\\"gray80\\\",\\n arrowsize = \\\"0.5\\\"]\\n\\n \\\"1\\\" [label = \\\"1\\\", fontcolor = \\\"#FE9F6DFF\\\", fillcolor = \\\"#3B0F70FF\\\"] \\n \\\"2\\\" [label = \\\"4\\\", fontcolor = \\\"#3B0F70FF\\\", fillcolor = \\\"#FE9F6DFF\\\"] \\n \\\"3\\\" [label = \\\"5\\\", fontcolor = \\\"#8C2981FF\\\", fillcolor = \\\"#FCFDBFFF\\\"] \\n \\\"4\\\" [label = \\\"1\\\", fontcolor = \\\"#FE9F6DFF\\\", fillcolor = \\\"#3B0F70FF\\\"] \\n \\\"5\\\" [label = \\\"2\\\", fontcolor = \\\"#FCFDBFFF\\\", fillcolor = \\\"#8C2981FF\\\"] \\n \\\"6\\\" [label = \\\"1\\\", fontcolor = \\\"#FE9F6DFF\\\", fillcolor = \\\"#3B0F70FF\\\"] \\n \\\"7\\\" [label = \\\"1\\\", fontcolor = \\\"#FE9F6DFF\\\", fillcolor = \\\"#3B0F70FF\\\"] \\n \\\"8\\\" [label = \\\"1\\\", fontcolor = \\\"#FE9F6DFF\\\", fillcolor = \\\"#3B0F70FF\\\"] \\n \\\"9\\\" [label = \\\"1\\\", fontcolor = \\\"#FE9F6DFF\\\", fillcolor = \\\"#3B0F70FF\\\"] \\n \\\"10\\\" [label = \\\"3\\\", fontcolor = \\\"#000004FF\\\", fillcolor = \\\"#DE4968FF\\\"] \\n \\\"11\\\" [label = \\\"1\\\", fontcolor = \\\"#FE9F6DFF\\\", fillcolor = \\\"#3B0F70FF\\\"] \\n \\\"12\\\" [label = \\\"1\\\", fontcolor = \\\"#FE9F6DFF\\\", fillcolor = \\\"#3B0F70FF\\\"] \\n \\\"13\\\" [label = \\\"1\\\", fontcolor = \\\"#FE9F6DFF\\\", fillcolor = \\\"#3B0F70FF\\\"] \\n \\\"14\\\" [label = \\\"2\\\", fontcolor = \\\"#FCFDBFFF\\\", fillcolor = \\\"#8C2981FF\\\"] \\n \\\"15\\\" [label = \\\"1\\\", fontcolor = \\\"#FE9F6DFF\\\", fillcolor = \\\"#3B0F70FF\\\"] \\n \\\"16\\\" [label = \\\"1\\\", fontcolor = \\\"#FE9F6DFF\\\", fillcolor = \\\"#3B0F70FF\\\"] \\n \\\"17\\\" [label = \\\"1\\\", fontcolor = \\\"#FE9F6DFF\\\", fillcolor = \\\"#3B0F70FF\\\"] \\n \\\"18\\\" [label = \\\"1\\\", fontcolor = \\\"#FE9F6DFF\\\", fillcolor = \\\"#3B0F70FF\\\"] \\n \\\"19\\\" [label = \\\"1\\\", fontcolor = \\\"#FE9F6DFF\\\", fillcolor = \\\"#3B0F70FF\\\"] \\n \\\"20\\\" [label = \\\"1\\\", fontcolor = \\\"#FE9F6DFF\\\", fillcolor = \\\"#3B0F70FF\\\"] \\n \\\"21\\\" [label = \\\"1\\\", fontcolor = \\\"#FE9F6DFF\\\", fillcolor = \\\"#3B0F70FF\\\"] \\n\\\"1\\\"-\\\"2\\\" [label = \\\"NNN\\\"] \\n\\\"2\\\"-\\\"3\\\" [label = \\\"NNN\\\"] \\n\\\"1\\\"-\\\"4\\\" [label = \\\"NNT\\\"] \\n\\\"4\\\"-\\\"5\\\" [label = \\\"NNN\\\"] \\n\\\"1\\\"-\\\"6\\\" [label = \\\"NTT\\\"] \\n\\\"6\\\"-\\\"7\\\" [label = \\\"NNN\\\"] \\n\\\"1\\\"-\\\"8\\\" [label = \\\"TTT\\\"] \\n\\\"8\\\"-\\\"9\\\" [label = \\\"NNN\\\"] \\n\\\"2\\\"-\\\"10\\\" [label = \\\"NNT\\\"] \\n\\\"4\\\"-\\\"11\\\" [label = \\\"NNT\\\"] \\n\\\"6\\\"-\\\"12\\\" [label = \\\"NNT\\\"] \\n\\\"8\\\"-\\\"13\\\" [label = \\\"NNT\\\"] \\n\\\"2\\\"-\\\"14\\\" [label = \\\"NTT\\\"] \\n\\\"4\\\"-\\\"15\\\" [label = \\\"NTT\\\"] \\n\\\"6\\\"-\\\"16\\\" [label = \\\"NTT\\\"] \\n\\\"8\\\"-\\\"17\\\" [label = \\\"NTT\\\"] \\n\\\"2\\\"-\\\"18\\\" [label = \\\"TTT\\\"] \\n\\\"4\\\"-\\\"19\\\" [label = \\\"TTT\\\"] \\n\\\"6\\\"-\\\"20\\\" [label = \\\"TTT\\\"] \\n\\\"8\\\"-\\\"21\\\" [label = \\\"TTT\\\"] \\n}\",\"config\":{\"engine\":\"dot\",\"options\":null}},\"evals\":[],\"jsHooks\":[]} we see that the Stop node is absent - all paths recommend a dose, even those seeing substantial toxicity. Stopping behaviours must be specified for the CRM method. Fortunately, escalation makes this simple.\nAn intuitive method for stopping in the Bayesian setting is to test the posterior distribution for the probability of toxicity. In our example, we will stop if there is at least a 90% probability that the toxicity rate at the lowest dose is 35% or greater:\npaths \u0026lt;- get_dfcrm(skeleton = skeleton, target = target) %\u0026gt;% stop_when_too_toxic(dose = 1, tox_threshold = 0.35, confidence = 0.9) %\u0026gt;% get_dose_paths(cohort_sizes = c(3, 3)) When we visualise the paths from the updated model:\ngraph_paths(paths, viridis_palette = \u0026#39;inferno\u0026#39;)  {\"x\":{\"diagram\":\"digraph {\\n\\ngraph [layout = \\\"neato\\\",\\n outputorder = \\\"edgesfirst\\\",\\n bgcolor = \\\"white\\\"]\\n\\nnode [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"10\\\",\\n shape = \\\"circle\\\",\\n fixedsize = \\\"true\\\",\\n width = \\\"0.5\\\",\\n style = \\\"filled\\\",\\n fillcolor = \\\"aliceblue\\\",\\n color = \\\"gray70\\\",\\n fontcolor = \\\"gray50\\\"]\\n\\nedge [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"8\\\",\\n len = \\\"1.5\\\",\\n color = \\\"gray80\\\",\\n arrowsize = \\\"0.5\\\"]\\n\\n \\\"1\\\" [label = \\\"1\\\", fontcolor = \\\"#FCA50AFF\\\", fillcolor = \\\"#420A68FF\\\"] \\n \\\"2\\\" [label = \\\"4\\\", fontcolor = \\\"#420A68FF\\\", fillcolor = \\\"#FCA50AFF\\\"] \\n \\\"3\\\" [label = \\\"5\\\", fontcolor = \\\"#932667FF\\\", fillcolor = \\\"#FCFFA4FF\\\"] \\n \\\"4\\\" [label = \\\"1\\\", fontcolor = \\\"#FCA50AFF\\\", fillcolor = \\\"#420A68FF\\\"] \\n \\\"5\\\" [label = \\\"2\\\", fontcolor = \\\"#FCFFA4FF\\\", fillcolor = \\\"#932667FF\\\"] \\n \\\"6\\\" [label = \\\"1\\\", fontcolor = \\\"#FCA50AFF\\\", fillcolor = \\\"#420A68FF\\\"] \\n \\\"7\\\" [label = \\\"1\\\", fontcolor = \\\"#FCA50AFF\\\", fillcolor = \\\"#420A68FF\\\"] \\n \\\"8\\\" [label = \\\"Stop\\\", fontcolor = \\\"#DD513AFF\\\", fillcolor = \\\"#000004FF\\\"] \\n \\\"9\\\" [label = \\\"3\\\", fontcolor = \\\"#000004FF\\\", fillcolor = \\\"#DD513AFF\\\"] \\n \\\"10\\\" [label = \\\"1\\\", fontcolor = \\\"#FCA50AFF\\\", fillcolor = \\\"#420A68FF\\\"] \\n \\\"11\\\" [label = \\\"1\\\", fontcolor = \\\"#FCA50AFF\\\", fillcolor = \\\"#420A68FF\\\"] \\n \\\"12\\\" [label = \\\"2\\\", fontcolor = \\\"#FCFFA4FF\\\", fillcolor = \\\"#932667FF\\\"] \\n \\\"13\\\" [label = \\\"1\\\", fontcolor = \\\"#FCA50AFF\\\", fillcolor = \\\"#420A68FF\\\"] \\n \\\"14\\\" [label = \\\"1\\\", fontcolor = \\\"#FCA50AFF\\\", fillcolor = \\\"#420A68FF\\\"] \\n \\\"15\\\" [label = \\\"1\\\", fontcolor = \\\"#FCA50AFF\\\", fillcolor = \\\"#420A68FF\\\"] \\n \\\"16\\\" [label = \\\"1\\\", fontcolor = \\\"#FCA50AFF\\\", fillcolor = \\\"#420A68FF\\\"] \\n \\\"17\\\" [label = \\\"Stop\\\", fontcolor = \\\"#DD513AFF\\\", fillcolor = \\\"#000004FF\\\"] \\n\\\"1\\\"-\\\"2\\\" [label = \\\"NNN\\\"] \\n\\\"2\\\"-\\\"3\\\" [label = \\\"NNN\\\"] \\n\\\"1\\\"-\\\"4\\\" [label = \\\"NNT\\\"] \\n\\\"4\\\"-\\\"5\\\" [label = \\\"NNN\\\"] \\n\\\"1\\\"-\\\"6\\\" [label = \\\"NTT\\\"] \\n\\\"6\\\"-\\\"7\\\" [label = \\\"NNN\\\"] \\n\\\"1\\\"-\\\"8\\\" [label = \\\"TTT\\\"] \\n\\\"2\\\"-\\\"9\\\" [label = \\\"NNT\\\"] \\n\\\"4\\\"-\\\"10\\\" [label = \\\"NNT\\\"] \\n\\\"6\\\"-\\\"11\\\" [label = \\\"NNT\\\"] \\n\\\"2\\\"-\\\"12\\\" [label = \\\"NTT\\\"] \\n\\\"4\\\"-\\\"13\\\" [label = \\\"NTT\\\"] \\n\\\"6\\\"-\\\"14\\\" [label = \\\"NTT\\\"] \\n\\\"2\\\"-\\\"15\\\" [label = \\\"TTT\\\"] \\n\\\"4\\\"-\\\"16\\\" [label = \\\"TTT\\\"] \\n\\\"6\\\"-\\\"17\\\" [label = \\\"TTT\\\"] \\n}\",\"config\":{\"engine\":\"dot\",\"options\":null}},\"evals\":[],\"jsHooks\":[]} we see that some paths once again recommend stopping. The paths that recommend a dose are otherwise unchanged.\n BOIN Another dose-escalation model implemented in escalation is the Bayesian optimal interval (BOIN) method by Liu and Yuan (2015), implemented in the BOIN package (Yuan and Liu 2018).\nTo spice things up, we will visualise how this model behaves over four cohorts of two patients:\npaths \u0026lt;- get_boin(num_doses = 4, target = target) %\u0026gt;% get_dose_paths(cohort_sizes = rep(2, 4)) ## You have requested 121 model evaluations. Be patient. graph_paths(paths, RColorBrewer_palette = \u0026#39;YlOrRd\u0026#39;)  {\"x\":{\"diagram\":\"digraph {\\n\\ngraph [layout = \\\"neato\\\",\\n outputorder = \\\"edgesfirst\\\",\\n bgcolor = \\\"white\\\"]\\n\\nnode [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"10\\\",\\n shape = \\\"circle\\\",\\n fixedsize = \\\"true\\\",\\n width = \\\"0.5\\\",\\n style = \\\"filled\\\",\\n fillcolor = \\\"aliceblue\\\",\\n color = \\\"gray70\\\",\\n fontcolor = \\\"gray50\\\"]\\n\\nedge [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"8\\\",\\n len = \\\"1.5\\\",\\n color = \\\"gray80\\\",\\n arrowsize = \\\"0.5\\\"]\\n\\n \\\"1\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"2\\\" [label = \\\"2\\\", fontcolor = \\\"#BD0026\\\", fillcolor = \\\"#FD8D3C\\\"] \\n \\\"3\\\" [label = \\\"3\\\", fontcolor = \\\"#FFFFB2\\\", fillcolor = \\\"#F03B20\\\"] \\n \\\"4\\\" [label = \\\"4\\\", fontcolor = \\\"#FECC5C\\\", fillcolor = \\\"#BD0026\\\"] \\n \\\"5\\\" [label = \\\"4\\\", fontcolor = \\\"#FECC5C\\\", fillcolor = \\\"#BD0026\\\"] \\n \\\"6\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"7\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"8\\\" [label = \\\"2\\\", fontcolor = \\\"#BD0026\\\", fillcolor = \\\"#FD8D3C\\\"] \\n \\\"9\\\" [label = \\\"3\\\", fontcolor = \\\"#FFFFB2\\\", fillcolor = \\\"#F03B20\\\"] \\n \\\"10\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"11\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"12\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"13\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"14\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"15\\\" [label = \\\"2\\\", fontcolor = \\\"#BD0026\\\", fillcolor = \\\"#FD8D3C\\\"] \\n \\\"16\\\" [label = \\\"2\\\", fontcolor = \\\"#BD0026\\\", fillcolor = \\\"#FD8D3C\\\"] \\n \\\"17\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"18\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"19\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"20\\\" [label = \\\"Stop\\\", fontcolor = \\\"#FD8D3C\\\", fillcolor = \\\"#FFFFB2\\\"] \\n \\\"21\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"22\\\" [label = \\\"2\\\", fontcolor = \\\"#BD0026\\\", fillcolor = \\\"#FD8D3C\\\"] \\n \\\"23\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"24\\\" [label = \\\"Stop\\\", fontcolor = \\\"#FD8D3C\\\", fillcolor = \\\"#FFFFB2\\\"] \\n \\\"25\\\" [label = \\\"Stop\\\", fontcolor = \\\"#FD8D3C\\\", fillcolor = \\\"#FFFFB2\\\"] \\n \\\"26\\\" [label = \\\"2\\\", fontcolor = \\\"#BD0026\\\", fillcolor = \\\"#FD8D3C\\\"] \\n \\\"27\\\" [label = \\\"3\\\", fontcolor = \\\"#FFFFB2\\\", fillcolor = \\\"#F03B20\\\"] \\n \\\"28\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"29\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"30\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"31\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"32\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"33\\\" [label = \\\"2\\\", fontcolor = \\\"#BD0026\\\", fillcolor = \\\"#FD8D3C\\\"] \\n \\\"34\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"35\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"36\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"37\\\" [label = \\\"2\\\", fontcolor = \\\"#BD0026\\\", fillcolor = \\\"#FD8D3C\\\"] \\n \\\"38\\\" [label = \\\"2\\\", fontcolor = \\\"#BD0026\\\", fillcolor = \\\"#FD8D3C\\\"] \\n \\\"39\\\" [label = \\\"3\\\", fontcolor = \\\"#FFFFB2\\\", fillcolor = \\\"#F03B20\\\"] \\n \\\"40\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"41\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"42\\\" [label = \\\"Stop\\\", fontcolor = \\\"#FD8D3C\\\", fillcolor = \\\"#FFFFB2\\\"] \\n \\\"43\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"44\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"45\\\" [label = \\\"Stop\\\", fontcolor = \\\"#FD8D3C\\\", fillcolor = \\\"#FFFFB2\\\"] \\n \\\"46\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"47\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"48\\\" [label = \\\"3\\\", fontcolor = \\\"#FFFFB2\\\", fillcolor = \\\"#F03B20\\\"] \\n \\\"49\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"50\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"51\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"52\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"53\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"54\\\" [label = \\\"2\\\", fontcolor = \\\"#BD0026\\\", fillcolor = \\\"#FD8D3C\\\"] \\n \\\"55\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"56\\\" [label = \\\"Stop\\\", fontcolor = \\\"#FD8D3C\\\", fillcolor = \\\"#FFFFB2\\\"] \\n \\\"57\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"58\\\" [label = \\\"Stop\\\", fontcolor = \\\"#FD8D3C\\\", fillcolor = \\\"#FFFFB2\\\"] \\n \\\"59\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"60\\\" [label = \\\"2\\\", fontcolor = \\\"#BD0026\\\", fillcolor = \\\"#FD8D3C\\\"] \\n \\\"61\\\" [label = \\\"Stop\\\", fontcolor = \\\"#FD8D3C\\\", fillcolor = \\\"#FFFFB2\\\"] \\n \\\"62\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"63\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"64\\\" [label = \\\"3\\\", fontcolor = \\\"#FFFFB2\\\", fillcolor = \\\"#F03B20\\\"] \\n \\\"65\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"66\\\" [label = \\\"Stop\\\", fontcolor = \\\"#FD8D3C\\\", fillcolor = \\\"#FFFFB2\\\"] \\n \\\"67\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"68\\\" [label = \\\"Stop\\\", fontcolor = \\\"#FD8D3C\\\", fillcolor = \\\"#FFFFB2\\\"] \\n \\\"69\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"70\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"71\\\" [label = \\\"Stop\\\", fontcolor = \\\"#FD8D3C\\\", fillcolor = \\\"#FFFFB2\\\"] \\n \\\"72\\\" [label = \\\"Stop\\\", fontcolor = \\\"#FD8D3C\\\", fillcolor = \\\"#FFFFB2\\\"] \\n \\\"73\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"74\\\" [label = \\\"Stop\\\", fontcolor = \\\"#FD8D3C\\\", fillcolor = \\\"#FFFFB2\\\"] \\n \\\"75\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"76\\\" [label = \\\"1\\\", fontcolor = \\\"#F03B20\\\", fillcolor = \\\"#FECC5C\\\"] \\n \\\"77\\\" [label = \\\"Stop\\\", fontcolor = \\\"#FD8D3C\\\", fillcolor = \\\"#FFFFB2\\\"] \\n \\\"78\\\" [label = \\\"Stop\\\", fontcolor = \\\"#FD8D3C\\\", fillcolor = \\\"#FFFFB2\\\"] \\n \\\"79\\\" [label = \\\"Stop\\\", fontcolor = \\\"#FD8D3C\\\", fillcolor = \\\"#FFFFB2\\\"] \\n\\\"1\\\"-\\\"2\\\" [label = \\\"NN\\\"] \\n\\\"2\\\"-\\\"3\\\" [label = \\\"NN\\\"] \\n\\\"3\\\"-\\\"4\\\" [label = \\\"NN\\\"] \\n\\\"4\\\"-\\\"5\\\" [label = \\\"NN\\\"] \\n\\\"1\\\"-\\\"6\\\" [label = \\\"NT\\\"] \\n\\\"6\\\"-\\\"7\\\" [label = \\\"NN\\\"] \\n\\\"7\\\"-\\\"8\\\" [label = \\\"NN\\\"] \\n\\\"8\\\"-\\\"9\\\" [label = \\\"NN\\\"] \\n\\\"1\\\"-\\\"10\\\" [label = \\\"TT\\\"] \\n\\\"10\\\"-\\\"11\\\" [label = \\\"NN\\\"] \\n\\\"11\\\"-\\\"12\\\" [label = \\\"NN\\\"] \\n\\\"12\\\"-\\\"13\\\" [label = \\\"NN\\\"] \\n\\\"2\\\"-\\\"14\\\" [label = \\\"NT\\\"] \\n\\\"14\\\"-\\\"15\\\" [label = \\\"NN\\\"] \\n\\\"15\\\"-\\\"16\\\" [label = \\\"NN\\\"] \\n\\\"6\\\"-\\\"17\\\" [label = \\\"NT\\\"] \\n\\\"17\\\"-\\\"18\\\" [label = \\\"NN\\\"] \\n\\\"18\\\"-\\\"19\\\" [label = \\\"NN\\\"] \\n\\\"10\\\"-\\\"20\\\" [label = \\\"NT\\\"] \\n\\\"2\\\"-\\\"21\\\" [label = \\\"TT\\\"] \\n\\\"21\\\"-\\\"22\\\" [label = \\\"NN\\\"] \\n\\\"22\\\"-\\\"23\\\" [label = \\\"NN\\\"] \\n\\\"6\\\"-\\\"24\\\" [label = \\\"TT\\\"] \\n\\\"10\\\"-\\\"25\\\" [label = \\\"TT\\\"] \\n\\\"3\\\"-\\\"26\\\" [label = \\\"NT\\\"] \\n\\\"26\\\"-\\\"27\\\" [label = \\\"NN\\\"] \\n\\\"7\\\"-\\\"28\\\" [label = \\\"NT\\\"] \\n\\\"28\\\"-\\\"29\\\" [label = \\\"NN\\\"] \\n\\\"11\\\"-\\\"30\\\" [label = \\\"NT\\\"] \\n\\\"30\\\"-\\\"31\\\" [label = \\\"NN\\\"] \\n\\\"14\\\"-\\\"32\\\" [label = \\\"NT\\\"] \\n\\\"32\\\"-\\\"33\\\" [label = \\\"NN\\\"] \\n\\\"17\\\"-\\\"34\\\" [label = \\\"NT\\\"] \\n\\\"34\\\"-\\\"35\\\" [label = \\\"NN\\\"] \\n\\\"21\\\"-\\\"36\\\" [label = \\\"NT\\\"] \\n\\\"36\\\"-\\\"37\\\" [label = \\\"NN\\\"] \\n\\\"3\\\"-\\\"38\\\" [label = \\\"TT\\\"] \\n\\\"38\\\"-\\\"39\\\" [label = \\\"NN\\\"] \\n\\\"7\\\"-\\\"40\\\" [label = \\\"TT\\\"] \\n\\\"40\\\"-\\\"41\\\" [label = \\\"NN\\\"] \\n\\\"11\\\"-\\\"42\\\" [label = \\\"TT\\\"] \\n\\\"14\\\"-\\\"43\\\" [label = \\\"TT\\\"] \\n\\\"43\\\"-\\\"44\\\" [label = \\\"NN\\\"] \\n\\\"17\\\"-\\\"45\\\" [label = \\\"TT\\\"] \\n\\\"21\\\"-\\\"46\\\" [label = \\\"TT\\\"] \\n\\\"46\\\"-\\\"47\\\" [label = \\\"NN\\\"] \\n\\\"4\\\"-\\\"48\\\" [label = \\\"NT\\\"] \\n\\\"8\\\"-\\\"49\\\" [label = \\\"NT\\\"] \\n\\\"12\\\"-\\\"50\\\" [label = \\\"NT\\\"] \\n\\\"15\\\"-\\\"51\\\" [label = \\\"NT\\\"] \\n\\\"18\\\"-\\\"52\\\" [label = \\\"NT\\\"] \\n\\\"22\\\"-\\\"53\\\" [label = \\\"NT\\\"] \\n\\\"26\\\"-\\\"54\\\" [label = \\\"NT\\\"] \\n\\\"28\\\"-\\\"55\\\" [label = \\\"NT\\\"] \\n\\\"30\\\"-\\\"56\\\" [label = \\\"NT\\\"] \\n\\\"32\\\"-\\\"57\\\" [label = \\\"NT\\\"] \\n\\\"34\\\"-\\\"58\\\" [label = \\\"NT\\\"] \\n\\\"36\\\"-\\\"59\\\" [label = \\\"NT\\\"] \\n\\\"38\\\"-\\\"60\\\" [label = \\\"NT\\\"] \\n\\\"40\\\"-\\\"61\\\" [label = \\\"NT\\\"] \\n\\\"43\\\"-\\\"62\\\" [label = \\\"NT\\\"] \\n\\\"46\\\"-\\\"63\\\" [label = \\\"NT\\\"] \\n\\\"4\\\"-\\\"64\\\" [label = \\\"TT\\\"] \\n\\\"8\\\"-\\\"65\\\" [label = \\\"TT\\\"] \\n\\\"12\\\"-\\\"66\\\" [label = \\\"TT\\\"] \\n\\\"15\\\"-\\\"67\\\" [label = \\\"TT\\\"] \\n\\\"18\\\"-\\\"68\\\" [label = \\\"TT\\\"] \\n\\\"22\\\"-\\\"69\\\" [label = \\\"TT\\\"] \\n\\\"26\\\"-\\\"70\\\" [label = \\\"TT\\\"] \\n\\\"28\\\"-\\\"71\\\" [label = \\\"TT\\\"] \\n\\\"30\\\"-\\\"72\\\" [label = \\\"TT\\\"] \\n\\\"32\\\"-\\\"73\\\" [label = \\\"TT\\\"] \\n\\\"34\\\"-\\\"74\\\" [label = \\\"TT\\\"] \\n\\\"36\\\"-\\\"75\\\" [label = \\\"TT\\\"] \\n\\\"38\\\"-\\\"76\\\" [label = \\\"TT\\\"] \\n\\\"40\\\"-\\\"77\\\" [label = \\\"TT\\\"] \\n\\\"43\\\"-\\\"78\\\" [label = \\\"TT\\\"] \\n\\\"46\\\"-\\\"79\\\" [label = \\\"TT\\\"] \\n}\",\"config\":{\"engine\":\"dot\",\"options\":null}},\"evals\":[],\"jsHooks\":[]} The first thing to note about the graph above is that it is much more complex than the previous graphs. The number of nodes in dose-paths increases faster than linearly as more cohorts are considered. Consideration of this must be given when visualising dose-paths.\nSecondly, the visual method makes it simple to discern messages about future model behaviour. For instance, we can easily see that dose 4, the darkest red node, is only reached in the first four cohorts if the first cohort sees no toxicity.\nIn contrast to CRM, BOIN does have a stopping rule for excess toxicity built in. We see that TT in the first cohort is not enough to advocate stopping but that any further toxicity in the second cohort will be sufficient to warrant stopping.\n  Further options Non-uniform cohorts There is no reason that the cohort sizes should be uniform. Specify whatever cohort_sizes you like:\npaths \u0026lt;- get_boin(num_doses = 4, target = target) %\u0026gt;% get_dose_paths(cohort_sizes = c(3, 1, 2)) graph_paths(paths, RColorBrewer_palette = \u0026#39;Blues\u0026#39;)  {\"x\":{\"diagram\":\"digraph {\\n\\ngraph [layout = \\\"neato\\\",\\n outputorder = \\\"edgesfirst\\\",\\n bgcolor = \\\"white\\\"]\\n\\nnode [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"10\\\",\\n shape = \\\"circle\\\",\\n fixedsize = \\\"true\\\",\\n width = \\\"0.5\\\",\\n style = \\\"filled\\\",\\n fillcolor = \\\"aliceblue\\\",\\n color = \\\"gray70\\\",\\n fontcolor = \\\"gray50\\\"]\\n\\nedge [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"8\\\",\\n len = \\\"1.5\\\",\\n color = \\\"gray80\\\",\\n arrowsize = \\\"0.5\\\"]\\n\\n \\\"1\\\" [label = \\\"1\\\", fontcolor = \\\"#3182BD\\\", fillcolor = \\\"#BDD7E7\\\"] \\n \\\"2\\\" [label = \\\"2\\\", fontcolor = \\\"#08519C\\\", fillcolor = \\\"#6BAED6\\\"] \\n \\\"3\\\" [label = \\\"3\\\", fontcolor = \\\"#EFF3FF\\\", fillcolor = \\\"#3182BD\\\"] \\n \\\"4\\\" [label = \\\"4\\\", fontcolor = \\\"#BDD7E7\\\", fillcolor = \\\"#08519C\\\"] \\n \\\"5\\\" [label = \\\"1\\\", fontcolor = \\\"#3182BD\\\", fillcolor = \\\"#BDD7E7\\\"] \\n \\\"6\\\" [label = \\\"1\\\", fontcolor = \\\"#3182BD\\\", fillcolor = \\\"#BDD7E7\\\"] \\n \\\"7\\\" [label = \\\"2\\\", fontcolor = \\\"#08519C\\\", fillcolor = \\\"#6BAED6\\\"] \\n \\\"8\\\" [label = \\\"1\\\", fontcolor = \\\"#3182BD\\\", fillcolor = \\\"#BDD7E7\\\"] \\n \\\"9\\\" [label = \\\"1\\\", fontcolor = \\\"#3182BD\\\", fillcolor = \\\"#BDD7E7\\\"] \\n \\\"10\\\" [label = \\\"1\\\", fontcolor = \\\"#3182BD\\\", fillcolor = \\\"#BDD7E7\\\"] \\n \\\"11\\\" [label = \\\"Stop\\\", fontcolor = \\\"#6BAED6\\\", fillcolor = \\\"#EFF3FF\\\"] \\n \\\"12\\\" [label = \\\"1\\\", fontcolor = \\\"#3182BD\\\", fillcolor = \\\"#BDD7E7\\\"] \\n \\\"13\\\" [label = \\\"2\\\", fontcolor = \\\"#08519C\\\", fillcolor = \\\"#6BAED6\\\"] \\n \\\"14\\\" [label = \\\"1\\\", fontcolor = \\\"#3182BD\\\", fillcolor = \\\"#BDD7E7\\\"] \\n \\\"15\\\" [label = \\\"1\\\", fontcolor = \\\"#3182BD\\\", fillcolor = \\\"#BDD7E7\\\"] \\n \\\"16\\\" [label = \\\"Stop\\\", fontcolor = \\\"#6BAED6\\\", fillcolor = \\\"#EFF3FF\\\"] \\n \\\"17\\\" [label = \\\"2\\\", fontcolor = \\\"#08519C\\\", fillcolor = \\\"#6BAED6\\\"] \\n \\\"18\\\" [label = \\\"1\\\", fontcolor = \\\"#3182BD\\\", fillcolor = \\\"#BDD7E7\\\"] \\n \\\"19\\\" [label = \\\"1\\\", fontcolor = \\\"#3182BD\\\", fillcolor = \\\"#BDD7E7\\\"] \\n \\\"20\\\" [label = \\\"1\\\", fontcolor = \\\"#3182BD\\\", fillcolor = \\\"#BDD7E7\\\"] \\n \\\"21\\\" [label = \\\"1\\\", fontcolor = \\\"#3182BD\\\", fillcolor = \\\"#BDD7E7\\\"] \\n \\\"22\\\" [label = \\\"2\\\", fontcolor = \\\"#08519C\\\", fillcolor = \\\"#6BAED6\\\"] \\n \\\"23\\\" [label = \\\"1\\\", fontcolor = \\\"#3182BD\\\", fillcolor = \\\"#BDD7E7\\\"] \\n \\\"24\\\" [label = \\\"Stop\\\", fontcolor = \\\"#6BAED6\\\", fillcolor = \\\"#EFF3FF\\\"] \\n \\\"25\\\" [label = \\\"1\\\", fontcolor = \\\"#3182BD\\\", fillcolor = \\\"#BDD7E7\\\"] \\n \\\"26\\\" [label = \\\"Stop\\\", fontcolor = \\\"#6BAED6\\\", fillcolor = \\\"#EFF3FF\\\"] \\n\\\"1\\\"-\\\"2\\\" [label = \\\"NNN\\\"] \\n\\\"2\\\"-\\\"3\\\" [label = \\\"N\\\"] \\n\\\"3\\\"-\\\"4\\\" [label = \\\"NN\\\"] \\n\\\"1\\\"-\\\"5\\\" [label = \\\"NNT\\\"] \\n\\\"5\\\"-\\\"6\\\" [label = \\\"N\\\"] \\n\\\"6\\\"-\\\"7\\\" [label = \\\"NN\\\"] \\n\\\"1\\\"-\\\"8\\\" [label = \\\"NTT\\\"] \\n\\\"8\\\"-\\\"9\\\" [label = \\\"N\\\"] \\n\\\"9\\\"-\\\"10\\\" [label = \\\"NN\\\"] \\n\\\"1\\\"-\\\"11\\\" [label = \\\"TTT\\\"] \\n\\\"2\\\"-\\\"12\\\" [label = \\\"T\\\"] \\n\\\"12\\\"-\\\"13\\\" [label = \\\"NN\\\"] \\n\\\"5\\\"-\\\"14\\\" [label = \\\"T\\\"] \\n\\\"14\\\"-\\\"15\\\" [label = \\\"NN\\\"] \\n\\\"8\\\"-\\\"16\\\" [label = \\\"T\\\"] \\n\\\"3\\\"-\\\"17\\\" [label = \\\"NT\\\"] \\n\\\"6\\\"-\\\"18\\\" [label = \\\"NT\\\"] \\n\\\"9\\\"-\\\"19\\\" [label = \\\"NT\\\"] \\n\\\"12\\\"-\\\"20\\\" [label = \\\"NT\\\"] \\n\\\"14\\\"-\\\"21\\\" [label = \\\"NT\\\"] \\n\\\"3\\\"-\\\"22\\\" [label = \\\"TT\\\"] \\n\\\"6\\\"-\\\"23\\\" [label = \\\"TT\\\"] \\n\\\"9\\\"-\\\"24\\\" [label = \\\"TT\\\"] \\n\\\"12\\\"-\\\"25\\\" [label = \\\"TT\\\"] \\n\\\"14\\\"-\\\"26\\\" [label = \\\"TT\\\"] \\n}\",\"config\":{\"engine\":\"dot\",\"options\":null}},\"evals\":[],\"jsHooks\":[]} You can even evaluate the dose advice after each patient using cohort sizes of 1:\npaths \u0026lt;- get_boin(num_doses = 4, target = target) %\u0026gt;% get_dose_paths(cohort_sizes = rep(1, 4)) graph_paths(paths, RColorBrewer_palette = \u0026#39;RdPu\u0026#39;)  {\"x\":{\"diagram\":\"digraph {\\n\\ngraph [layout = \\\"neato\\\",\\n outputorder = \\\"edgesfirst\\\",\\n bgcolor = \\\"white\\\"]\\n\\nnode [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"10\\\",\\n shape = \\\"circle\\\",\\n fixedsize = \\\"true\\\",\\n width = \\\"0.5\\\",\\n style = \\\"filled\\\",\\n fillcolor = \\\"aliceblue\\\",\\n color = \\\"gray70\\\",\\n fontcolor = \\\"gray50\\\"]\\n\\nedge [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"8\\\",\\n len = \\\"1.5\\\",\\n color = \\\"gray80\\\",\\n arrowsize = \\\"0.5\\\"]\\n\\n \\\"1\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n \\\"2\\\" [label = \\\"2\\\", fontcolor = \\\"#7A0177\\\", fillcolor = \\\"#F768A1\\\"] \\n \\\"3\\\" [label = \\\"3\\\", fontcolor = \\\"#FEEBE2\\\", fillcolor = \\\"#C51B8A\\\"] \\n \\\"4\\\" [label = \\\"4\\\", fontcolor = \\\"#FBB4B9\\\", fillcolor = \\\"#7A0177\\\"] \\n \\\"5\\\" [label = \\\"4\\\", fontcolor = \\\"#FBB4B9\\\", fillcolor = \\\"#7A0177\\\"] \\n \\\"6\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n \\\"7\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n \\\"8\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n \\\"9\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n \\\"10\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n \\\"11\\\" [label = \\\"2\\\", fontcolor = \\\"#7A0177\\\", fillcolor = \\\"#F768A1\\\"] \\n \\\"12\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n \\\"13\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n \\\"14\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n \\\"15\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n \\\"16\\\" [label = \\\"2\\\", fontcolor = \\\"#7A0177\\\", fillcolor = \\\"#F768A1\\\"] \\n \\\"17\\\" [label = \\\"3\\\", fontcolor = \\\"#FEEBE2\\\", fillcolor = \\\"#C51B8A\\\"] \\n \\\"18\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n \\\"19\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n \\\"20\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n \\\"21\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n \\\"22\\\" [label = \\\"Stop\\\", fontcolor = \\\"#F768A1\\\", fillcolor = \\\"#FEEBE2\\\"] \\n \\\"23\\\" [label = \\\"3\\\", fontcolor = \\\"#FEEBE2\\\", fillcolor = \\\"#C51B8A\\\"] \\n \\\"24\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n \\\"25\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n \\\"26\\\" [label = \\\"Stop\\\", fontcolor = \\\"#F768A1\\\", fillcolor = \\\"#FEEBE2\\\"] \\n \\\"27\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n \\\"28\\\" [label = \\\"Stop\\\", fontcolor = \\\"#F768A1\\\", fillcolor = \\\"#FEEBE2\\\"] \\n \\\"29\\\" [label = \\\"1\\\", fontcolor = \\\"#C51B8A\\\", fillcolor = \\\"#FBB4B9\\\"] \\n\\\"1\\\"-\\\"2\\\" [label = \\\"N\\\"] \\n\\\"2\\\"-\\\"3\\\" [label = \\\"N\\\"] \\n\\\"3\\\"-\\\"4\\\" [label = \\\"N\\\"] \\n\\\"4\\\"-\\\"5\\\" [label = \\\"N\\\"] \\n\\\"1\\\"-\\\"6\\\" [label = \\\"T\\\"] \\n\\\"6\\\"-\\\"7\\\" [label = \\\"N\\\"] \\n\\\"7\\\"-\\\"8\\\" [label = \\\"N\\\"] \\n\\\"8\\\"-\\\"9\\\" [label = \\\"N\\\"] \\n\\\"2\\\"-\\\"10\\\" [label = \\\"T\\\"] \\n\\\"10\\\"-\\\"11\\\" [label = \\\"N\\\"] \\n\\\"11\\\"-\\\"12\\\" [label = \\\"N\\\"] \\n\\\"6\\\"-\\\"13\\\" [label = \\\"T\\\"] \\n\\\"13\\\"-\\\"14\\\" [label = \\\"N\\\"] \\n\\\"14\\\"-\\\"15\\\" [label = \\\"N\\\"] \\n\\\"3\\\"-\\\"16\\\" [label = \\\"T\\\"] \\n\\\"16\\\"-\\\"17\\\" [label = \\\"N\\\"] \\n\\\"7\\\"-\\\"18\\\" [label = \\\"T\\\"] \\n\\\"18\\\"-\\\"19\\\" [label = \\\"N\\\"] \\n\\\"10\\\"-\\\"20\\\" [label = \\\"T\\\"] \\n\\\"20\\\"-\\\"21\\\" [label = \\\"N\\\"] \\n\\\"13\\\"-\\\"22\\\" [label = \\\"T\\\"] \\n\\\"4\\\"-\\\"23\\\" [label = \\\"T\\\"] \\n\\\"8\\\"-\\\"24\\\" [label = \\\"T\\\"] \\n\\\"11\\\"-\\\"25\\\" [label = \\\"T\\\"] \\n\\\"14\\\"-\\\"26\\\" [label = \\\"T\\\"] \\n\\\"16\\\"-\\\"27\\\" [label = \\\"T\\\"] \\n\\\"18\\\"-\\\"28\\\" [label = \\\"T\\\"] \\n\\\"20\\\"-\\\"29\\\" [label = \\\"T\\\"] \\n}\",\"config\":{\"engine\":\"dot\",\"options\":null}},\"evals\":[],\"jsHooks\":[]}  Partially completed trials It is possible to calculate dose-paths from trials that are partially completed. For instance, let us continue with our BOIN model and assume that we have seen outcomes 1NNN 2TNT so far in our trial. Thus, we are reasonably sure that dose 1 is safe but wary that dose 2 might be too toxic. However, these beliefs are tempered by the tiny sample size. From this starting point, how might the next two cohorts of three proceed? We just specify the previous outcomes using the previous_outcomes parameter:\npaths \u0026lt;- get_boin(num_doses = 4, target = target) %\u0026gt;% get_dose_paths(cohort_sizes = rep(3, 2), previous_outcomes = \u0026#39;1NNN 2TNT\u0026#39;) graph_paths(paths, viridis_palette = \u0026#39;viridis\u0026#39;)  {\"x\":{\"diagram\":\"digraph {\\n\\ngraph [layout = \\\"neato\\\",\\n outputorder = \\\"edgesfirst\\\",\\n bgcolor = \\\"white\\\"]\\n\\nnode [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"10\\\",\\n shape = \\\"circle\\\",\\n fixedsize = \\\"true\\\",\\n width = \\\"0.5\\\",\\n style = \\\"filled\\\",\\n fillcolor = \\\"aliceblue\\\",\\n color = \\\"gray70\\\",\\n fontcolor = \\\"gray50\\\"]\\n\\nedge [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"8\\\",\\n len = \\\"1.5\\\",\\n color = \\\"gray80\\\",\\n arrowsize = \\\"0.5\\\"]\\n\\n \\\"1\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"2\\\" [label = \\\"2\\\", fontcolor = \\\"#FDE725FF\\\", fillcolor = \\\"#21908CFF\\\"] \\n \\\"3\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"4\\\" [label = \\\"2\\\", fontcolor = \\\"#FDE725FF\\\", fillcolor = \\\"#21908CFF\\\"] \\n \\\"5\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"6\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"7\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"8\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"9\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"10\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"11\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"12\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"13\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"14\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"15\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"16\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"17\\\" [label = \\\"Stop\\\", fontcolor = \\\"#21908CFF\\\", fillcolor = \\\"#440154FF\\\"] \\n \\\"18\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"19\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"20\\\" [label = \\\"Stop\\\", fontcolor = \\\"#21908CFF\\\", fillcolor = \\\"#440154FF\\\"] \\n \\\"21\\\" [label = \\\"Stop\\\", fontcolor = \\\"#21908CFF\\\", fillcolor = \\\"#440154FF\\\"] \\n\\\"1\\\"-\\\"2\\\" [label = \\\"NNN\\\"] \\n\\\"2\\\"-\\\"3\\\" [label = \\\"NNN\\\"] \\n\\\"1\\\"-\\\"4\\\" [label = \\\"NNT\\\"] \\n\\\"4\\\"-\\\"5\\\" [label = \\\"NNN\\\"] \\n\\\"1\\\"-\\\"6\\\" [label = \\\"NTT\\\"] \\n\\\"6\\\"-\\\"7\\\" [label = \\\"NNN\\\"] \\n\\\"1\\\"-\\\"8\\\" [label = \\\"TTT\\\"] \\n\\\"8\\\"-\\\"9\\\" [label = \\\"NNN\\\"] \\n\\\"2\\\"-\\\"10\\\" [label = \\\"NNT\\\"] \\n\\\"4\\\"-\\\"11\\\" [label = \\\"NNT\\\"] \\n\\\"6\\\"-\\\"12\\\" [label = \\\"NNT\\\"] \\n\\\"8\\\"-\\\"13\\\" [label = \\\"NNT\\\"] \\n\\\"2\\\"-\\\"14\\\" [label = \\\"NTT\\\"] \\n\\\"4\\\"-\\\"15\\\" [label = \\\"NTT\\\"] \\n\\\"6\\\"-\\\"16\\\" [label = \\\"NTT\\\"] \\n\\\"8\\\"-\\\"17\\\" [label = \\\"NTT\\\"] \\n\\\"2\\\"-\\\"18\\\" [label = \\\"TTT\\\"] \\n\\\"4\\\"-\\\"19\\\" [label = \\\"TTT\\\"] \\n\\\"6\\\"-\\\"20\\\" [label = \\\"TTT\\\"] \\n\\\"8\\\"-\\\"21\\\" [label = \\\"TTT\\\"] \\n}\",\"config\":{\"engine\":\"dot\",\"options\":null}},\"evals\":[],\"jsHooks\":[]} Notice how this is different to the advice we get at the start of the trial (i.e. when omitting the previous_outcomes):\npaths \u0026lt;- get_boin(num_doses = 4, target = target) %\u0026gt;% get_dose_paths(cohort_sizes = rep(3, 2)) graph_paths(paths, viridis_palette = \u0026#39;viridis\u0026#39;)  {\"x\":{\"diagram\":\"digraph {\\n\\ngraph [layout = \\\"neato\\\",\\n outputorder = \\\"edgesfirst\\\",\\n bgcolor = \\\"white\\\"]\\n\\nnode [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"10\\\",\\n shape = \\\"circle\\\",\\n fixedsize = \\\"true\\\",\\n width = \\\"0.5\\\",\\n style = \\\"filled\\\",\\n fillcolor = \\\"aliceblue\\\",\\n color = \\\"gray70\\\",\\n fontcolor = \\\"gray50\\\"]\\n\\nedge [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"8\\\",\\n len = \\\"1.5\\\",\\n color = \\\"gray80\\\",\\n arrowsize = \\\"0.5\\\"]\\n\\n \\\"1\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"2\\\" [label = \\\"2\\\", fontcolor = \\\"#FDE725FF\\\", fillcolor = \\\"#21908CFF\\\"] \\n \\\"3\\\" [label = \\\"3\\\", fontcolor = \\\"#440154FF\\\", fillcolor = \\\"#5DC863FF\\\"] \\n \\\"4\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"5\\\" [label = \\\"2\\\", fontcolor = \\\"#FDE725FF\\\", fillcolor = \\\"#21908CFF\\\"] \\n \\\"6\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"7\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"8\\\" [label = \\\"Stop\\\", fontcolor = \\\"#21908CFF\\\", fillcolor = \\\"#440154FF\\\"] \\n \\\"9\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"10\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"11\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"12\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"13\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"14\\\" [label = \\\"Stop\\\", fontcolor = \\\"#21908CFF\\\", fillcolor = \\\"#440154FF\\\"] \\n \\\"15\\\" [label = \\\"1\\\", fontcolor = \\\"#5DC863FF\\\", fillcolor = \\\"#3B528BFF\\\"] \\n \\\"16\\\" [label = \\\"Stop\\\", fontcolor = \\\"#21908CFF\\\", fillcolor = \\\"#440154FF\\\"] \\n \\\"17\\\" [label = \\\"Stop\\\", fontcolor = \\\"#21908CFF\\\", fillcolor = \\\"#440154FF\\\"] \\n\\\"1\\\"-\\\"2\\\" [label = \\\"NNN\\\"] \\n\\\"2\\\"-\\\"3\\\" [label = \\\"NNN\\\"] \\n\\\"1\\\"-\\\"4\\\" [label = \\\"NNT\\\"] \\n\\\"4\\\"-\\\"5\\\" [label = \\\"NNN\\\"] \\n\\\"1\\\"-\\\"6\\\" [label = \\\"NTT\\\"] \\n\\\"6\\\"-\\\"7\\\" [label = \\\"NNN\\\"] \\n\\\"1\\\"-\\\"8\\\" [label = \\\"TTT\\\"] \\n\\\"2\\\"-\\\"9\\\" [label = \\\"NNT\\\"] \\n\\\"4\\\"-\\\"10\\\" [label = \\\"NNT\\\"] \\n\\\"6\\\"-\\\"11\\\" [label = \\\"NNT\\\"] \\n\\\"2\\\"-\\\"12\\\" [label = \\\"NTT\\\"] \\n\\\"4\\\"-\\\"13\\\" [label = \\\"NTT\\\"] \\n\\\"6\\\"-\\\"14\\\" [label = \\\"NTT\\\"] \\n\\\"2\\\"-\\\"15\\\" [label = \\\"TTT\\\"] \\n\\\"4\\\"-\\\"16\\\" [label = \\\"TTT\\\"] \\n\\\"6\\\"-\\\"17\\\" [label = \\\"TTT\\\"] \\n}\",\"config\":{\"engine\":\"dot\",\"options\":null}},\"evals\":[],\"jsHooks\":[]} This is a feature of model-based methods like CRM and BOIN - they use all information at all doses when making dose decisions. They are not memoryless like the 3+3.\n Next dose The dose at which dose-paths commence is inferred from the model. It can be specified manually, however:\npaths \u0026lt;- get_three_plus_three(num_doses = 5, allow_deescalate = TRUE) %\u0026gt;% get_dose_paths(cohort_sizes = c(3, 3), next_dose = 3) graph_paths(paths, viridis_palette = \u0026#39;plasma\u0026#39;)  {\"x\":{\"diagram\":\"digraph {\\n\\ngraph [layout = \\\"neato\\\",\\n outputorder = \\\"edgesfirst\\\",\\n bgcolor = \\\"white\\\"]\\n\\nnode [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"10\\\",\\n shape = \\\"circle\\\",\\n fixedsize = \\\"true\\\",\\n width = \\\"0.5\\\",\\n style = \\\"filled\\\",\\n fillcolor = \\\"aliceblue\\\",\\n color = \\\"gray70\\\",\\n fontcolor = \\\"gray50\\\"]\\n\\nedge [fontname = \\\"Helvetica\\\",\\n fontsize = \\\"8\\\",\\n len = \\\"1.5\\\",\\n color = \\\"gray80\\\",\\n arrowsize = \\\"0.5\\\"]\\n\\n \\\"1\\\" [label = \\\"3\\\", fontcolor = \\\"#0D0887FF\\\", fillcolor = \\\"#E16462FF\\\"] \\n \\\"2\\\" [label = \\\"4\\\", fontcolor = \\\"#6A00A8FF\\\", fillcolor = \\\"#FCA636FF\\\"] \\n \\\"3\\\" [label = \\\"5\\\", fontcolor = \\\"#B12A90FF\\\", fillcolor = \\\"#F0F921FF\\\"] \\n \\\"4\\\" [label = \\\"3\\\", fontcolor = \\\"#0D0887FF\\\", fillcolor = \\\"#E16462FF\\\"] \\n \\\"5\\\" [label = \\\"4\\\", fontcolor = \\\"#6A00A8FF\\\", fillcolor = \\\"#FCA636FF\\\"] \\n \\\"6\\\" [label = \\\"2\\\", fontcolor = \\\"#F0F921FF\\\", fillcolor = \\\"#B12A90FF\\\"] \\n \\\"7\\\" [label = \\\"2\\\", fontcolor = \\\"#F0F921FF\\\", fillcolor = \\\"#B12A90FF\\\"] \\n \\\"8\\\" [label = \\\"2\\\", fontcolor = \\\"#F0F921FF\\\", fillcolor = \\\"#B12A90FF\\\"] \\n \\\"9\\\" [label = \\\"2\\\", fontcolor = \\\"#F0F921FF\\\", fillcolor = \\\"#B12A90FF\\\"] \\n \\\"10\\\" [label = \\\"4\\\", fontcolor = \\\"#6A00A8FF\\\", fillcolor = \\\"#FCA636FF\\\"] \\n \\\"11\\\" [label = \\\"2\\\", fontcolor = \\\"#F0F921FF\\\", fillcolor = \\\"#B12A90FF\\\"] \\n \\\"12\\\" [label = \\\"2\\\", fontcolor = \\\"#F0F921FF\\\", fillcolor = \\\"#B12A90FF\\\"] \\n \\\"13\\\" [label = \\\"2\\\", fontcolor = \\\"#F0F921FF\\\", fillcolor = \\\"#B12A90FF\\\"] \\n \\\"14\\\" [label = \\\"3\\\", fontcolor = \\\"#0D0887FF\\\", fillcolor = \\\"#E16462FF\\\"] \\n \\\"15\\\" [label = \\\"2\\\", fontcolor = \\\"#F0F921FF\\\", fillcolor = \\\"#B12A90FF\\\"] \\n \\\"16\\\" [label = \\\"1\\\", fontcolor = \\\"#FCA636FF\\\", fillcolor = \\\"#6A00A8FF\\\"] \\n \\\"17\\\" [label = \\\"1\\\", fontcolor = \\\"#FCA636FF\\\", fillcolor = \\\"#6A00A8FF\\\"] \\n \\\"18\\\" [label = \\\"3\\\", fontcolor = \\\"#0D0887FF\\\", fillcolor = \\\"#E16462FF\\\"] \\n \\\"19\\\" [label = \\\"2\\\", fontcolor = \\\"#F0F921FF\\\", fillcolor = \\\"#B12A90FF\\\"] \\n \\\"20\\\" [label = \\\"1\\\", fontcolor = \\\"#FCA636FF\\\", fillcolor = \\\"#6A00A8FF\\\"] \\n \\\"21\\\" [label = \\\"1\\\", fontcolor = \\\"#FCA636FF\\\", fillcolor = \\\"#6A00A8FF\\\"] \\n\\\"1\\\"-\\\"2\\\" [label = \\\"NNN\\\"] \\n\\\"2\\\"-\\\"3\\\" [label = \\\"NNN\\\"] \\n\\\"1\\\"-\\\"4\\\" [label = \\\"NNT\\\"] \\n\\\"4\\\"-\\\"5\\\" [label = \\\"NNN\\\"] \\n\\\"1\\\"-\\\"6\\\" [label = \\\"NTT\\\"] \\n\\\"6\\\"-\\\"7\\\" [label = \\\"NNN\\\"] \\n\\\"1\\\"-\\\"8\\\" [label = \\\"TTT\\\"] \\n\\\"8\\\"-\\\"9\\\" [label = \\\"NNN\\\"] \\n\\\"2\\\"-\\\"10\\\" [label = \\\"NNT\\\"] \\n\\\"4\\\"-\\\"11\\\" [label = \\\"NNT\\\"] \\n\\\"6\\\"-\\\"12\\\" [label = \\\"NNT\\\"] \\n\\\"8\\\"-\\\"13\\\" [label = \\\"NNT\\\"] \\n\\\"2\\\"-\\\"14\\\" [label = \\\"NTT\\\"] \\n\\\"4\\\"-\\\"15\\\" [label = \\\"NTT\\\"] \\n\\\"6\\\"-\\\"16\\\" [label = \\\"NTT\\\"] \\n\\\"8\\\"-\\\"17\\\" [label = \\\"NTT\\\"] \\n\\\"2\\\"-\\\"18\\\" [label = \\\"TTT\\\"] \\n\\\"4\\\"-\\\"19\\\" [label = \\\"TTT\\\"] \\n\\\"6\\\"-\\\"20\\\" [label = \\\"TTT\\\"] \\n\\\"8\\\"-\\\"21\\\" [label = \\\"TTT\\\"] \\n}\",\"config\":{\"engine\":\"dot\",\"options\":null}},\"evals\":[],\"jsHooks\":[]} A 3+3 trial with de-escalation enabled will de-escalate through the doses when toxicity is seen, as expected.\n  Crystallised dose-paths Calculating dose-paths is useful for visually examining the conditions under which a dose-finding design would escalate or de-escalate or stop. However, that is only part of the story. When we marry dose-paths with assumed true event probabilities, we can calculate exact operating characteristics of a design. We refer to this as crystallising dose paths because the likelihood of each path has been calculated precisely according to an assumed truth.\nFor instance, we can calculate dose-paths for the first four cohorts of three patients using the CRM with stopping design that we specified previously:\nskeleton \u0026lt;- c(0.05, 0.1, 0.25, 0.4, 0.6) target \u0026lt;- 0.25 paths \u0026lt;- get_dfcrm(skeleton = skeleton, target = target) %\u0026gt;% stop_when_too_toxic(dose = 1, tox_threshold = 0.35, confidence = 0.9) %\u0026gt;% get_dose_paths(cohort_sizes = rep(3, 4)) ## You have requested 341 model evaluations. Be patient. We can then crystallise the paths using toxicity probabilities that exactly match the beliefs in our skeleton:\ntrue_prob_tox \u0026lt;- skeleton x \u0026lt;- paths %\u0026gt;% calculate_probabilities(true_prob_tox = true_prob_tox) x ## Number of nodes: 213 ## Number of terminal nodes: 160 ## ## Number of doses: 5 ## ## Probability of recommendation: ## NoDose 1 2 3 4 5 ## 0.000127 0.019866 0.227135 0.451791 0.273014 0.028066 ## ## Probability of continuance: ## [1] 1 ## ## Probability of administration: ## 1 2 3 4 5 ## 0.3172 0.1602 0.1867 0.2734 0.0626 ## ## Expected sample size: ## [1] 11.99887 ## ## Expected total toxicities: ## [1] 2.705489 We see that in this scenario, the probability of a path stopping and advocating no dose within the first four cohorts is very close to zero. In contrast, when the toxicity probabilities are much greater than anticipated:\ntrue_prob_tox \u0026lt;- c(0.45, 0.6, 0.68, 0.75, 0.81) x \u0026lt;- paths %\u0026gt;% calculate_probabilities(true_prob_tox = true_prob_tox) x ## Number of nodes: 213 ## Number of terminal nodes: 160 ## ## Number of doses: 5 ## ## Probability of recommendation: ## NoDose 1 2 3 4 5 ## 0.3027462 0.6407708 0.0502073 0.0055527 0.0006931 0.0000299 ## ## Probability of continuance: ## [1] 0.697 ## ## Probability of administration: ## 1 2 3 4 5 ## 0.895800 0.052921 0.008539 0.042028 0.000711 ## ## Expected sample size: ## [1] 10.73269 ## ## Expected total toxicities: ## [1] 5.102913 the probability of selecting no dose within these first four cohorts is over 30%. The information labelled Probability of continuance: shows the aggregate probability of paths that are continuing to advocate experimentation at doses, i.e. those paths that do not advocate stopping.\nWe see above that the probability of continuance is 1 minus the probability of selecting no dose. However, this need not necessarily be the case because paths can advocate stopping and recommend a dose. They might do so once it is felt that a suitable dose has been identified. To make this point, let us imagine that we add a rule to our above design that allows stopping once there are 9 patients allocated to the recommended dose. We can think of this as stopping for consensus. Respecifying our model and recalculating dose-paths, we have:\npaths \u0026lt;- get_dfcrm(skeleton = skeleton, target = target) %\u0026gt;% stop_when_too_toxic(dose = 1, tox_threshold = 0.35, confidence = 0.9) %\u0026gt;% stop_when_n_at_dose(dose = \u0026#39;recommended\u0026#39;, n = 9) %\u0026gt;% get_dose_paths(cohort_sizes = rep(3, 4)) ## You have requested 341 model evaluations. Be patient. x \u0026lt;- paths %\u0026gt;% calculate_probabilities(true_prob_tox = true_prob_tox) x ## Number of nodes: 141 ## Number of terminal nodes: 106 ## ## Number of doses: 5 ## ## Probability of recommendation: ## NoDose 1 2 3 4 5 ## 0.2103223 0.7393498 0.0440522 0.0055527 0.0006931 0.0000299 ## ## Probability of continuance: ## [1] 0.137 ## ## Probability of administration: ## 1 2 3 4 5 ## 0.895800 0.052921 0.008539 0.042028 0.000711 ## ## Expected sample size: ## [1] 9.064864 ## ## Expected total toxicities: ## [1] 4.352391 We see that this has reduced our probability of stopping for excess toxicity and inflated our chances of recommending dose 1. Notably, the probability of continuance is now roughly 14%, suggesting that most paths have advocated stopping by now, either for toxicity or concensus.\nIf we do not like that performance, we can make the consensus stopping rule more demanding by requesting 12 at the recommended dose to advocate stopping:\npaths \u0026lt;- get_dfcrm(skeleton = skeleton, target = target) %\u0026gt;% stop_when_too_toxic(dose = 1, tox_threshold = 0.35, confidence = 0.9) %\u0026gt;% stop_when_n_at_dose(dose = \u0026#39;recommended\u0026#39;, n = 12) %\u0026gt;% get_dose_paths(cohort_sizes = rep(3, 4)) ## You have requested 341 model evaluations. Be patient. x \u0026lt;- paths %\u0026gt;% calculate_probabilities(true_prob_tox = true_prob_tox) x ## Number of nodes: 213 ## Number of terminal nodes: 160 ## ## Number of doses: 5 ## ## Probability of recommendation: ## NoDose 1 2 3 4 5 ## 0.3027462 0.6407708 0.0502073 0.0055527 0.0006931 0.0000299 ## ## Probability of continuance: ## [1] 0.24 ## ## Probability of administration: ## 1 2 3 4 5 ## 0.895800 0.052921 0.008539 0.042028 0.000711 ## ## Expected sample size: ## [1] 10.73269 ## ## Expected total toxicities: ## [1] 5.102913 As usual, deriving an acceptable design is an iterative process. The tools in escalation make it easier to arrive at a design that performs how you want.\nCombining dose-paths with true event probabilities allows probabilistic inference on dose-finding designs. This is a novel extension to the use advocated by Yap et al. (2017) and Brock et al. (2017). The use of exact operating characteristics has been implemented for the 3+3 design in the bcrm package (Sweeting and Wheeler 2019). We generalise the method here.\nDose-paths vs simulation We saw above that probabilistic inference was possible with dose-paths. Researchers have typically used simulation to achieve this task. escalation supports simulation as well through the simulate_trials function. However, this does raise the question, when should you use each method, and what are their relative merits?\nThe answer to the first question comes down to the expected number of model fits required. Fitting dose-finding models takes computer time. In dose-paths, the model is fit once at each node. We have seen examples above of how the number and size of cohorts affects the number of nodes in dose-paths. In fact, escalation provides a function to calculate the number of nodes.\nIn a phase 1 dose-finding trial, each patient experiences exactly one of two outcomes: T or N. Let us calculate how many nodes there are in a graph of dose-paths using five cohorts of three patients. We run:\nnum_dose_path_nodes(num_patient_outcomes = 2, cohort_sizes = rep(3, 5)) ## [1] 1 4 16 64 256 1024 The num_patient_outcomes = 2 parameter reflects that patients may experience T or N. The returned vector of integers is the number of nodes at each depth. There is one starting node. That node is connected to four children via outcomes NNN, NNT, NTT, and TTT. The number of nodes at greater depths proceeds multiplicatively thereafter. The total number of nodes is:\nnum_dose_path_nodes(num_patient_outcomes = 2, cohort_sizes = rep(3, 5)) %\u0026gt;% sum ## [1] 1365 Thus it requires exactly 1,365 model fits to calculate the exact operating characteristics in this \\(n = 5 \\times 3 = 15\\) patient scenario. To compare this to simulations, consider that each simulated trial iteration will fit the model up to five times, once at the end of each cohort. The total number of model fits in a simulation study is bounded by this number multiplied by the number of simulated iterations. Generally simulation studies use thousands of replicates, so it is easy to see that exact inference via crystallised dose-paths will be much less computaionally burdensome, and therefore faster here.\nIn contrast, now consider a trial of eight cohorts of three. The total number of model fits to enumerate the complete graph of dose-paths is\nnum_dose_path_nodes(num_patient_outcomes = 2, cohort_sizes = rep(3, 8)) %\u0026gt;% sum ## [1] 87381 Ten thousand simulated iterations of 8 cohorts each would only require up to 80,000 model fits. Thus, a reasonably accurate simulation study would be expected to be faster here.\nHowever, speed is not the only concern: there is also precision to consider. Simulations have the disadvantage of suffering from Monte Carlo error, that is the uncertainty about the estimated statistics arising from the use of a finite number of simulated iterations. In contrast, exact inference via dose-paths has the great advantage of being exact. That is, there is no uncertainty in the calculated probabilities. (Note: there is still uncertainty about which path will be taken because that is determined by random patient outcomes). Thus, there are scenarios when dose-paths may still be preferable to simulations, even when they are expected to take longer.\nIt is likely that in practice, simulation is often used when dose-paths would be a better option. If true, that would likely be linked to provision of software that performs the two methods. escalation plugs that gap.\n  References Brock, Kristian, Lucinda Billingham, Mhairi Copland, Shamyla Siddique, Mirjana Sirovica, and Christina Yap. 2017. “Implementing the EffTox Dose-Finding Design in the Matchpoint Trial.” BMC Medical Research Methodology 17 (1): 112. https://doi.org/10.1186/s12874-017-0381-x.\n Cheung, Ken. 2013. Dfcrm: Dose-Finding by the Continual Reassessment Method. https://CRAN.R-project.org/package=dfcrm.\n Liu, Suyu, and Ying Yuan. 2015. “Bayesian Optimal Interval Designs for Phase I Clinical Trials.” Journal of the Royal Statistical Society: Series C (Applied Statistics) 64 (3): 507–23. https://doi.org/10.1111/rssc.12089.\n O’Quigley, J, M Pepe, and L Fisher. 1990. “Continual Reassessment Method: A Practical Design for Phase 1 Clinical Trials in Cancer.” Biometrics 46 (1): 33–48. https://doi.org/10.2307/2531628.\n Sweeting, Michael, and Graham Wheeler. 2019. Bcrm: Bayesian Continual Reassessment Method for Phase I Dose-Escalation Trials. https://CRAN.R-project.org/package=bcrm.\n Wheeler, Graham M., Adrian P. Mander, Alun Bedding, Kristian Brock, Victoria Cornelius, Andrew P. Grieve, Thomas Jaki, et al. 2019. “How to Design a Dose-Finding Study Using the Continual Reassessment Method.” BMC Medical Research Methodology 19 (1). https://doi.org/10.1186/s12874-018-0638-z.\n Yap, Christina, Lucinda J. Billingham, Ying Kuen Cheung, Charlie Craddock, and John O’Quigley. 2017. “Dose Transition Pathways: The Missing Link Between Complex Dose-Finding Designs and Simple Decision-Making.” Clinical Cancer Research 23 (24): 7440–7. https://doi.org/10.1158/1078-0432.CCR-17-0582.\n Yuan, Ying, and Suyu Liu. 2018. BOIN: Bayesian Optimal Interval (Boin) Design for Single-Agent and Drug- Combination Phase I Clinical Trials. https://CRAN.R-project.org/package=BOIN.\n   ","date":1587427200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1587501716,"objectID":"301164162db20432f57569dc47a67aa9","permalink":"/post/dose-paths/","publishdate":"2020-04-21T00:00:00Z","relpermalink":"/post/dose-paths/","section":"post","summary":"Enumerate every possible dose selection decision for all dose-finding models implemented in the escalation package.","tags":["escalation","R","DoseFinding"],"title":"Dose-paths in the escalation package","type":"post"},{"authors":null,"categories":null,"content":"escalation is an R package for dose-escalation clinical trials, providing a consistent, extensible, modular approach.\nIt largely uses existing R implementations of popular dose-finding designs, including the continual reassessment method (CRM) design from the dfcrm package, the Bayesian optimal interval (BOIN) design from the BOIN package, and the perennial 3+3.\nescalation bestows these model-fitting functions with a common interface. This allows the provision of add-on behaviours that affect the way that doses are selected, or trial stopping decisions are made. For example, it is simple to compose a CRM design that will not skip doses and will stop once a recommended dose has been given to $n$ patients; or a BOIN design that will demand that a certain dose is tested sufficiently before stopping is countenanced; and so on. Functions are provided to run simulations and enumerate all possible future dose paths. See related blog posts or the package documentation site for many illustrative examples.\nCRAN listing\n https://cran.r-project.org/package=escalation  Source code\n https://github.com/brockk/escalation  Documentation\n https://brockk.github.io/escalation/  ","date":1586563200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1586563200,"objectID":"184ae3621da6761dfa48de998d7f1c3d","permalink":"/project/escalation/","publishdate":"2020-04-11T00:00:00Z","relpermalink":"/project/escalation/","section":"project","summary":"_escalation_ is an R package for dose-escalation clinical trials, providing a consistent, extensible, modular approach.","tags":["DoseFinding"],"title":"The escalation package","type":"project"},{"authors":["Kristian Brock"],"categories":null,"content":"About this publication I became involved in the PePS2 trial shortly after joining CRCTU in 2014. I developed a Bayesian statistical method for this trial that would analyse co-primary efficacy and toxicity outcomes whilst adjusting for baseline covariates as a substantial part of my PhD thesis. This publication is important to me because PePS2 became the first trial where I published a statistical design paper and results paper.\n","date":1586131200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1586169003,"objectID":"1ce196881bf7be0a1678aec8d32c4f26","permalink":"/publication/peps2-results/","publishdate":"2020-03-19T00:00:00Z","relpermalink":"/publication/peps2-results/","section":"publication","summary":"Therapeutic blockade of the axis of programmed cell death 1 (PD-1) and its ligand (PD-L1) has transformed the management of non-small-cell lung cancer (NSCLC). Clinical trials with pembrolizumab have enrolled patients with performance status (PS) 0–1. However, around 18% of patients with NSCLC are PS2, and the activity and safety of pembrolizumab in these patients is unclear. We aimed to evaluate the safety and efficacy of pembrolizumab in these patients.","tags":["TrialResults","PhaseII"],"title":"Pembrolizumab in patients with non-small-cell lung cancer of performance status 2 (PePS2) - a single arm, phase 2 trial","type":"publication"},{"authors":["Kristian Brock"],"categories":["TrialResults"],"content":" Summary PePS2 is a phase II clinical trial of pembrolizumab in non-small-cell lung cancer (NSCLC) patients with a performance status of 2. Trial results were recently published in Lancet Respiratory Medicine (Middleton et al. 2020). Previous trials in the KEYNOTE series (Garon et al. 2015; Herbst et al. 2016) had showed that pembrolizumab was efficacious in NSCLC patients.\n The gap in the evidence Performance status (PS) is a variable defined by the Eastern Cooperative Oncology Group to reflect cancer patients’ general well-being and activities of daily life. It is an ordered variable with five levels reflecting greater levels of disability:\n 0 – patients are asymptomatic; 1 – patients are symptomatic but completely ambulatory; 2 – patients are symptomatic, spending up to 50% of day time in bed; 3 – patients are symptomatic, spending at least 50% of day time in bed; 4 – patients are bedbound.  We will say that a patient with a peformance status of 2 is PS2.\nThe KEYNOTE-001 trial (Garon et al. 2015) showed that pembrolizumab was efficacious in NSCLC patients. The subsequent KEYNOTE-010 trial (Herbst et al. 2016) showed that pembrolizumab was superior to docetaxel chemotherapy. However, it is doubtful that a PS2 patient would be strong enough to tolerate chemotherapy. Hence, to maintain equipoise in KEYNOTE-010, the trialists restricted randomisation to PS0 and PS1 patients. That trial was successful and pembrolizumab was licenced in NSCLC. However, as is typical, the treatment was licenced in the patient population that had been investigated in the trial. This covered just the PS0 and PS1 patients and crucially excluded PS2 patients. The KEYNOTE trials had showed that pembrolizumab was tolerable, particularly compared to the harsh chemotherapy alternatives. It is precisely in the PS2 population where a relatively tolerable but effective treatment was sorely needed. However, by virtue of their probable unsuitablility to chemotherapy, PS2 patients had been excluded from a promising new treatment.\nThe PePS2 trial sought to address this gap in the evidence.\nStratification In the KEYNOTE-001 trial, Garon et al. (2015) had introduced the programmed death ligand 1 tumour proportion score biomarker (PD-L1 TPS, or simply TPS), being the percentage of cells in a tumour biopsy that expressed PD-L1. Pembrolizumab is a PD-L1 blockade drug so it was reasonably hypothesised that the treatment would work best in those patients whose tumours expressed lots of PD-L1. The KEYNOTE-001 showed this to be precisely the case.\nKEYNOTE-001 also showed that first-line patients (those patients who had received no previous anti-cancer therapy) achieved outcomes that appeared to be slightly different to patients receiving pembrolizumab as a subsequent-line therapy.\nIn PePS2, we sought to evaluate the effects of pembrolizumab on co-primary efficacy and toxicity outcomes whilst stratifying the analysis for these baseline covariates. I developed a statistical design for this purpose, described here (Brock et al. 2019).\n Results On 19-March-2020, the results were published in Lancet Respiratory Medicine. Alessi and Awad (2020) provided an accompanying commentary of the data in that same journal.\n More Information on the PePS2 project is collated on the project page.\n References Alessi, Joao V, and Mark M Awad. 2020. “Immunotherapy in Lung Cancer: Effective for Patients with Poor Performance Status?” The Lancet Respiratory Medicine, March, S2213260020301077. https://doi.org/10.1016/S2213-2600(20)30107-7.\n Brock, Kristian, Lucinda Billingham, Christina Yap, and Gary Middleton. 2019. “A Phase II Clinical Trial Design for Associated Co-Primary Efficacy and Toxicity Outcomes with Baseline Covariates.” In Bayesian Statistics and New Generations, edited by Raffaele Argiento, Daniele Durante, and Sara Wade, 125–33. Springer Proceedings in Mathematics \u0026amp; Statistics. Cham: Springer International Publishing. https://doi.org/10.1007/978-3-030-30611-3_13.\n Garon, Edward B, Naiyer a Rizvi, Rina Hui, Natasha Leighl, Ani S Balmanoukian, Joseph Paul Eder, Amita Patnaik, et al. 2015. “Pembrolizumab for the Treatment of Non-Small-Cell Lung Cancer.” The New England Journal of Medicine 372 (21): 2018–28. https://doi.org/10.1056/NEJMoa1501824.\n Herbst, Roy S., Paul Baas, Dong Wan Kim, Enriqueta Felip, José L. Pérez-Gracia, Ji Youn Han, Julian Molina, et al. 2016. “Pembrolizumab Versus Docetaxel for Previously Treated, PD-L1-Positive, Advanced Non-Small-Cell Lung Cancer (KEYNOTE-010): A Randomised Controlled Trial.” The Lancet 387 (10027): 1540–50. https://doi.org/10.1016/S0140-6736(15)01281-7.\n Middleton, Gary, Kristian Brock, Joshua Savage, Rhys Mant, Yvonne Summers, John Connibear, Riyaz Shah, et al. 2020. “Pembrolizumab in Patients with Non-Small-Cell Lung Cancer of Performance Status 2 (PePS2): A Single Arm, Phase 2 Trial.” The Lancet Respiratory Medicine 0 (0). https://doi.org/10.1016/S2213-2600(20)30033-3.\n    ","date":1586131200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1586169003,"objectID":"18e3422d76d70d8a4f29055bdb3ef834","permalink":"/post/peps2-results/","publishdate":"2020-04-06T00:00:00Z","relpermalink":"/post/peps2-results/","section":"post","summary":"Results of the PePS2 trial of pembrolizumab in performance status 2 non-small-cell lung cancer patients published in Lancet Respiratory Medicine.","tags":["Bayes","PhaseII","TrialResults"],"title":"PePS2 Results","type":"post"},{"authors":null,"categories":null,"content":"Summary PePS2 is a phase II trial of pembrolizumab in performance status 2 (PS2) non-small-cell lung cancer (NSCLC) patients. It is run by the Cancer Research UK Clinical Trials Unit.\nPePS2 is an important trial to me because I developed the analysis model as part of my PhD thesis and worked on the trial from almost the very beginning. I published a trial design paper and am glad to say that the trial results are currently under peer review. The investigators and I hope this trial will provide much-needed and much-sought evidence on the merits of giving this PD-L1 blockade drug to PS2 NSCLC patients\nDesign I became involved in PePS2 shortly after joining the trials unit in 2014. The trial called for a design that evaluated co-primary response and toxicity outcomes. Naturally, this suggests a Bryant \u0026amp; Day optimal design. However, published data in performance status 0 \u0026amp; 1 NSCLC patients showed that the PD-L1 tumour proportion score biomarker was strongly predictive of response. There was also evidence that first-line patients did better than subsequent-line patients. We expected each of these variables to remain predictive in the performance status 2 population and wanted to stratify the analysis by these variables. Unfortunately, Bryant \u0026amp; Day's design assumes an homogeneous population so does not admit explanatory variables.\nI happened to be working on a dose-finding trial at the time that used the EffTox design of Thall \u0026amp; Cook (2004) to appraise joint efficacy and toxicity rates at different doses of experimental agents. It struck me on a cycle home that the EffTox design could be adjusted with variables reflecting PD-L1 and line-of-therapy status in place of dose to study our co-primary outcomes whilst adjusting for our putative predictive factors. I worked up the design as part of my PhD, eventually published a design paper, and used the model to conduct a Bayesian analysis of the trial outcomes.\nResults The results for PePS2 were published in March 2020 in Lancet Respiratory Medicine. There are links below.\n","date":1586131200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1586169003,"objectID":"972223b45ad93e77c340a6766126073b","permalink":"/project/peps2/","publishdate":"2020-04-06T00:00:00Z","relpermalink":"/project/peps2/","section":"project","summary":"PePS2 is a phase II trial of pembrolizumab in performance status 2 non-small-cell lung cancer patients.","tags":["Bayes","PhaseII"],"title":"The PePS2 Trial","type":"project"},{"authors":["Kristian Brock"],"categories":["Code"],"content":" escalation  escalation is a new R package that takes existing dose-finding models and gives them a common interface. To use the language of tidyverse R, escalation provides a grammar for dose-finding by breaking the dose-finding process into chunks. What model should I use? How should I select dose during the trial? How will I know when to stop? Which restrictions should I place on escalation and de-escalation? You can create the dose-finding design you want in escalation by combining elements that perform all of these tasks. This might all sound a little obtuse. Some examples will make it clear.\nExamples CRM O’Quigley, Pepe, and Fisher (1990) introduced the classic continual reassessment method (CRM) and it has been implemented in many software packages since. One of the most popular R implementations is the dfcrm package by Cheung (2013). Let’s fit a model using dfcrm.\nThe very least information we need to provide is a dose-toxicity skeleton, and our target toxicity level:\nskeleton \u0026lt;- c(0.05, 0.1, 0.25, 0.4, 0.6) target \u0026lt;- 0.25 We use these to create a model-fitting object:\nlibrary(escalation) model \u0026lt;- get_dfcrm(skeleton = skeleton, target = target) The model can then be fit to outcomes. The escalation package uses the outcome syntax introduced for phase I trials in Brock (2019) and for seamless phase I/II trials in Brock et al. (2017). Let’s assume we have treated 3 patients at dose-level 2 and none of them experienced toxicity. We represent this using the outcome string 2NNN. Fitting the model to the set of outcomes invokes the dose-selection algorithm:\nfit \u0026lt;- model %\u0026gt;% fit(\u0026#39;2NNN\u0026#39;) and the fit object will tell you the dose recommended by the CRM model to be administered next:\nfit %\u0026gt;% recommended_dose() ## [1] 4 The model advocates skipping straight from dose 2 to dose 4. Clinicians are unlikely to feel comfortable with this. We can respecify the model to expressly not skip doses in escalation:\nmodel \u0026lt;- get_dfcrm(skeleton = skeleton, target = target) %\u0026gt;% dont_skip_doses(when_escalating = TRUE) We have taken the original dfcrm model and added an extra module to prevent skipping doses in escalation. Refitting the new model to the same outcomes gives:\nfit \u0026lt;- model %\u0026gt;% fit(\u0026#39;2NNN\u0026#39;) fit %\u0026gt;% recommended_dose() ## [1] 3 We see that the ensemble now decides to select dose 3. We can ask the trial design whether it wants to keep recruting patients:\nfit %\u0026gt;% continue() ## [1] TRUE Naturally it wants to continue because dfcrm does not implement any stopping rules. However, we can easily add some. Let us say that we want to stop once the model has evaluated 18 patients, or at least 9 at the dose being recommended, whichever occurs first. We specify this model by adding more behaviours:\nmodel \u0026lt;- get_dfcrm(skeleton = skeleton, target = target) %\u0026gt;% dont_skip_doses(when_escalating = TRUE) %\u0026gt;% stop_at_n(n = 18) %\u0026gt;% stop_when_n_at_dose(dose = \u0026#39;recommended\u0026#39;, n = 9) Let’s fit this model to some more patients to see how this trial plays out:\nfit \u0026lt;- model %\u0026gt;% fit(\u0026#39;2NNN 3TTN\u0026#39;) fit %\u0026gt;% recommended_dose() ## [1] 2 fit %\u0026gt;% continue() ## [1] TRUE After seeing two-in-three patients in the second cohort experience toxicity at dose 3, the design understandably wants to de-escalate. Let’s do that:\nfit \u0026lt;- model %\u0026gt;% fit(\u0026#39;2NNN 3TTN 2TNN\u0026#39;) fit %\u0026gt;% recommended_dose() ## [1] 2 fit %\u0026gt;% continue() ## [1] TRUE The third cohort yielded one-in-three tox at dose 2. The design wants to continue at dose 2 so let’s do that:\nfit \u0026lt;- model %\u0026gt;% fit(\u0026#39;2NNN 3TTN 2TNN 2NNT\u0026#39;) fit %\u0026gt;% recommended_dose() ## [1] 2 fit %\u0026gt;% continue() ## [1] FALSE Notice that the call to continue() now returns FALSE. The design wants to stop now and recommend dose 2. It does this because it has seen 9 patients at the recommended dose. We can see the number of patients treated at each of the five doses under investigation:\nfit %\u0026gt;% n_at_dose() ## [1] 0 9 3 0 0 Our stopping criteria have been met. We can verify that dose 2 is indeed the dose with posterior expected toxicity rate closest to our target of 25%:\nfit %\u0026gt;% mean_prob_tox() ## [1] 0.1845713 0.2728713 0.4575229 0.5964102 0.7496662  BOIN escalate also implements the BOIN dose-finding design by Liu and Yuan (2015) via the BOIN R-package (Yuan and Liu 2018).\nIn contrast to CRM, BOIN does not require a dose-toxicity skeleton. In its simplest case, it requires merely the number of doses under investigation and our target toxicity level:\ntarget \u0026lt;- 0.25 model \u0026lt;- get_boin(num_doses = 5, target = target) As before, we can fit the model to some observed outcomes:\nfit \u0026lt;- model %\u0026gt;% fit(\u0026#39;2NNN\u0026#39;) fit %\u0026gt;% recommended_dose() ## [1] 3 fit %\u0026gt;% continue() ## [1] TRUE The BOIN dose selector natively implements stopping rules, as described by Liu \u0026amp; Yuan. For instance, if the bottom dose is too toxic, the design will advise the trial halts:\nfit \u0026lt;- model %\u0026gt;% fit(\u0026#39;2NTN 1TTT\u0026#39;) fit %\u0026gt;% recommended_dose() ## [1] NA fit %\u0026gt;% continue() ## [1] FALSE Nevertheless, as with the CRM examples above, our BOIN selector can be adorned with various behaviours to tailor stopping and skipping. In fact, we can add the exact same behaviours as before because all escalation objects support exactly the same interface. This makes the package completely modular. We are building the design we want from pieces of Lego:\nmodel \u0026lt;- get_boin(num_doses = 5, target = target) %\u0026gt;% dont_skip_doses(when_escalating = TRUE) %\u0026gt;% stop_at_n(n = 18) %\u0026gt;% stop_when_n_at_dose(dose = \u0026#39;recommended\u0026#39;, n = 9) fit \u0026lt;- model %\u0026gt;% fit(\u0026#39;2NNN 3TTN 2TNN 2NNT\u0026#39;) fit %\u0026gt;% recommended_dose() ## [1] 2 fit %\u0026gt;% continue() ## [1] FALSE fit %\u0026gt;% mean_prob_tox() ## [1] NA 0.23 0.66 NA NA Notice that the posterior toxicity estimate is similar to the CRM model at dose 2, but ultimately different because the two approaches use different model forms. BOIN does not estimate the tox rate at doses that have not been administered.\n Initial escalation plans Another dose-selection mechanism supported by escalation is the concept of an initial escalation plan. These can be used at the start of a trial to show how escalation should proceed initially. As soon as the realised outcomes diverge from the prespecified path, or the path reaches the end, a secondary model takes over.\nFor instance, let us assume we would like to treat one patient per dose so long as no toxicity is seen, in order to facilitate fast escalation. When toxicity is seen, or dose five is reached, we would like to hand control to a CRM model. We can write:\nmodel \u0026lt;- follow_path(\u0026#39;1N 2N 3N 4N 5N\u0026#39;) %\u0026gt;% get_dfcrm(skeleton = skeleton, target = target) So long as the idealised path is realised, it continues:\nmodel %\u0026gt;% fit(\u0026#39;1N\u0026#39;) %\u0026gt;% recommended_dose() ## [1] 2 model %\u0026gt;% fit(\u0026#39;1N 2N\u0026#39;) %\u0026gt;% recommended_dose() ## [1] 3 But if the path is deviated from, the secondary model takes over:\nmodel %\u0026gt;% fit(\u0026#39;1N 2N 3T\u0026#39;) %\u0026gt;% recommended_dose() ## [1] 2 Also, when the initial path is completed, the secondary model continues:\nmodel %\u0026gt;% fit(\u0026#39;1N 2N 3N 4N 5N\u0026#39;) %\u0026gt;% recommended_dose() ## [1] 5   Summary The escalation package takes dose-finding methods that other authors have provided and gives them a consistent interface. This makes it simple to add any behaviour to any method, creating a modular Lego-like approach to creating dose-finding designs. For instance, we can take any dose-selection model and tweak the way it selects the next dose, the way it escalates, de-escalates and stops. I hope eventually that escalation makes it easy to specify, assess and compare all dose-escalation designs.\n Roadmap Version 0.0.1 has been submitted to CRAN (but as of 2020-02-17, not yet accepted) with the following base dose-finding approaches:\n the CRM model from the dfcrm package the BOIN model from the BOIN package the perennial 3+3 model without dose de-escalation  and the following optional embellishments:\n don’t skip doses in escalation and/or de-escalation stop when dose(s) are too toxic stop when \\(n\\) patients have been treated in total stop when \\(n\\) patients have been treated at a particular dose use an initial fixed dose-escalation plan demand at least \\(n\\) patients have been treated at a particular dose before stopping is permitted.  In future versions, the following base dose-finding approaches will probably be added:\n the EWOC model from the EWOC package the CRM and EffTox models from the trialr package the CRM model from the bcrm package the CRM model from the crmPack package  Before I plough into the MCMC methods (trialr, bcrm, crmPack), I want to understand the implications of adding other software to the dependency chain to what at the moment is a very lightweight package.\nIn addition to those, I plan to add further behaviours that allow:\n stopping under the conditions investigated by Zohar and Chevret (2001); selecting dose by the CIBP criterion of Mozgunov and Jaki (2020).  Independent to the work described above, I will add functions that run simulations and calculate dose pathways.\n How escalation came about It had bothered me for several years that it always seemed so difficult to tweak behaviour of dose-finging designs to allow flexible stopping (etc). In my trials unit, we frequently started with the dfcrm code and then added custom embellishments to achieve the design and behaviour we wanted in each particular trial. Running simulations or calculating future dose pathways was never as simple as it should have been. The approach we used of tweaking dfcrm implicitly assumed we needed a more complex dose-fitting function. And then one night at about 4am when I was neither asleep nor awake, I realised that we needed to daisy-chain the dose-selecting classes together to augment behaviour. We did not need a more complex dose-fitting function, we needed a flexible way of combining simple functions. Having used dplyr and tidyverse packages for years now, the %\u0026gt;% operator seemed the natural solution.\n Installation # Once it hits CRAN, install the latest official version with: install.packages(\u0026quot;escalation\u0026quot;) # Alternatively, install the latest code at any time from GitHub: devtools::install_github(\u0026quot;brockk/escalation\u0026quot;)  Resources  GitHub repo Documentation   References Brock, Kristian. 2019. “trialr: Bayesian Clinical Trial Designs in R and Stan.” arXiv E-Prints, June, arXiv:1907.00161.\n Brock, Kristian, Lucinda Billingham, Mhairi Copland, Shamyla Siddique, Mirjana Sirovica, and Christina Yap. 2017. “Implementing the EffTox Dose-Finding Design in the Matchpoint Trial.” BMC Medical Research Methodology 17 (1): 112. https://doi.org/10.1186/s12874-017-0381-x.\n Cheung, Ken. 2013. Dfcrm: Dose-Finding by the Continual Reassessment Method. https://CRAN.R-project.org/package=dfcrm.\n Liu, Suyu, and Ying Yuan. 2015. “Bayesian Optimal Interval Designs for Phase I Clinical Trials.” Journal of the Royal Statistical Society: Series C (Applied Statistics) 64 (3): 507–23. https://doi.org/10.1111/rssc.12089.\n Mozgunov, Pavel, and Thomas Jaki. 2020. “Improving Safety of the Continual Reassessment Method via a Modified Allocation Rule.” Statistics in Medicine, 1–17. https://doi.org/10.1002/sim.8450.\n O’Quigley, J, M Pepe, and L Fisher. 1990. “Continual Reassessment Method: A Practical Design for Phase 1 Clinical Trials in Cancer.” Biometrics 46 (1): 33–48. https://doi.org/10.2307/2531628.\n Yuan, Ying, and Suyu Liu. 2018. BOIN: Bayesian Optimal Interval (Boin) Design for Single-Agent and Drug- Combination Phase I Clinical Trials. https://CRAN.R-project.org/package=BOIN.\n Zohar, Sarah, and Sylvie Chevret. 2001. “The Continual Reassessment Method: Comparison of Bayesian Stopping Rules for Dose-Ranging Studies.” Statistics in Medicine 20 (19): 2827–43. https://doi.org/10.1002/sim.920.\n    ","date":1581552000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1581879246,"objectID":"f5d2cff649c0160ead59c3a57b8a82ab","permalink":"/post/introducing-escalation/","publishdate":"2020-02-13T00:00:00Z","relpermalink":"/post/introducing-escalation/","section":"post","summary":"An R package to unify the interface of dose-escalation models in R. A modular approach that is scalable and extensible.","tags":["escalation","R"],"title":"Introducing escalation","type":"post"},{"authors":["Kristian Brock"],"categories":["Teaching"],"content":" At CRCTU, we recently ran our bootcamp course for the first time, a programme of core technical training for newly recruited biostatisticians.\nClinical trials units are busy centres of research where collaboration is the default. Being able to visualise data and communicate technical details to others quickly and effectively is important. Being able to reproduce something you calculated last month is necessary. R Markdown addresses both of these problems by interweaving prose and code to produce rich, interactive documents in … whatever format you need.\nHere is RStudio explaining better than I could:\n   R Markdown is super flexible. Some things I have created in it are:\n A complete journal article, including abstract, authors and affiliations, keywords, figures and tables with captions, cross-referencing, bibliography (link to source) Literally this exact webpage you are reading right now (link to source) Interactive tutorials at https://rstudio.cloud/project/454702. Look for the Run.R file to launch a tutorial. (link to source)  In each example, the source code is written 100% in R Markdown and then compiled to create the article PDF or the web page or the Word doc or whatever. To emphasise that point, I have provided a link to the source Rmd file in each instance.\nThe R users at CRCTU use R Markdown files to conduct trial analyses and produce DMC reports. We trained new statisticians in this area because we knew that it is not the kind of thing universities would teach in their MSc programmes. However, reproducible research is one of the core pillars of our bootcamp programme and we see R Markdown as the key technology in this area.\nDo you train statisticians in this area at your institution? Do you want to? Are you a statistician that wishes they had access to this type of training? If so, feel free to get in contact and we could bring it to your CTU.\nAlso, please fill in our brief questionnaire on how CTUs train statisticians!\nLoading…  Thanks!\n","date":1579392000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1579941193,"objectID":"be4e44c4c4c1f7894434f377c99727eb","permalink":"/post/rmarkdown-in-trials/","publishdate":"2020-01-19T00:00:00Z","relpermalink":"/post/rmarkdown-in-trials/","section":"post","summary":"RMarkdown is a key tool for communicating research. We teach it to new starters at CRCTU.","tags":["bootcamp","training"],"title":"R Markdown is a miracle for scientific communication and repeatable research","type":"post"},{"authors":["Kristian Brock"],"categories":["Research"],"content":"During 2019, I was working on simulations using CRM designs in several different trials. I found I would frequently get the designs mixed up:\n \u0026ldquo;We are targeting 20% toxicity in this trial, right? No, that was the other trial\u0026hellip;we are targeting 33% here\u0026hellip;\u0026rdquo;\n Similarly, once or twice, I got to the stage where I wanted to run simulations only to discover we had not specified some important design aspect, like when the trial should stop. To bring all the pertinent information to the fore, I wrote a checklist. I would take the list and fill it out for each trial to ensure I had all the right information before I started simulating.\nDownload the checklist as PDF, editable Word version, or completed example.\nChecklist 1. Doses under investigation? Put simply, which doses are you investigating? And how many are there? Let's refer to the number of doses as $n$. For the plain vanilla CRM, the doses should be fully orderable, meaning it should be possible to unambiguously state that $a \u0026gt; b$ or $a \u0026lt; b$ for each pair of doses $a, b$. Incidentally, this is also true of the 3+3. It is easy to inadvertently violate the total orderability rule when you have combinations (e.g. is 10mg A + 10mb B a greater or lesser dose than 5mg A + 20mg B?) or when you are varying doses and frequencies (e.g. is 20mg of A each day a greater or lesser dose than 100mg of A once per week?).\n2. Target toxicity level? What probability of dose-limiting toxicity are you targeting? CRM and 3+3 are toxicity-chasing designs - they will escalate dose until toxicity is seen. There must be a rationale for why escalation is anticipated to be beneficial to the patient. So what probability of toxicity are you targeting? If it is hard to specify an acceptable target, or the target is very low, that might be a sign that CRM and 3+3 are not suitable approaches.\n3. Skeleton? What is your a-priori expectation of the rate of toxicity at each dose? This should be a monotonically-increasing vector of probabilities of length $n$.\n4. Starting dose? Which dose will you start at? Having a dose or two to de-escalate to might be preferable in case your toxicity expectations are wrong.\n5. Model type? There have been various suggestions to model the dose-toxicity curve. Will you use the empiric approach, or a one parameter logisitic approach, etc?\n6. Model parameters? Different model types require different parameters and hyperparameters. E.g. the empiric model shifts the skeleton up and down as DLT outcomes are evaluated in patients, using a single parameter, often called $\\beta$. That parameter needs a prior distribution. The default prior on $\\beta$ in dfcrm is $\\beta \\sim N(0, 1.34)$. I will let you research why.\n7. How to select dose? Will you select the dose with estimated DLT probability closest to the target? Or closest to target without exceeding the target? Will you permit skipping doses in escalation? How about de-escalation?\n8. When to stop? Trials end1 - when will your trial end? What is the maximum sample size? Do you have a stopping rule for excess toxicity? Do you want to evaluate a minimum number of patients at the candidate dose before you stop? Also, check that these constraints do not contradict one another!\n9. Length of DLT assessment window? How long is the DLT assessment window?\nIf using non-time-to-event method: 10. How to select cohort size? Commonly, designs have used fixed cohort sizes of three. But perhaps you want to use flexible cohort sizes of 2-5 patients, depending on the times at which the patients arrive? How will you simulate this?\nIf using time-to-event method: 11. How to calculate weight of observation? Under the Time-to-Event CRM (TITE-CRM), censored observations of non-DLT are weighted somewhere between 0 and 1. Logically, the weight should be a non-decreasing function of the length of follow-up. If DLT is experienced, the weight should be 1. Several weight functions have been proposed. A simple option is linear, i.e. 50% of the evaluation period without DLT is considered to be 0.5 non-DLT events.\nFor simulation: 12. What is assumed true Prob(DLT)? The key simulation parameter, what is the true probability of DLT at each dose? It will be tempting to choose a true dose-DLT curve that looks similar to your skeleton but do not stop there. Naturally, a thorough simulation study will look at many true dose-DLT curves, with the sought dose appearing at different positions. If you have a rule for early stopping, you might want to consider a scenario where the true DLT probabilities are all too high.\nFor simulation using time-to-event method: 13. What is time between patient arrivals? When simulating using the TITE-CRM method, you will need to randomly sample patient arrival times. For memoryless waiting times, the exponential distribution would do the job.\n14. What is time between patient arrivals? Generally in simulation, you sample whether toxicity will happen in a patient given their assigned dose and the associated probability of DLT using a random draw from a Bernoulli distribution. Once you have established that toxicity occurs in a given patient, you will need to sample the time of the DLT. How will you do that? You might assume a constant hazard, for example, and thus use an exponential distribution. Obviously, if a patient does not experience DLT then their DLT time is infinite.\nAvailability of software Having made all these choices (and it is exhausting to even think of all these things), you then have to find or write code to make it happen. You may find you do not have the time or programming skill to write exactly what you want and opt for an off-the-shelf solution. Each of dfcrm, bcrm, and crmPack offer methods for simulating CRM trials, and my very own trialr will have CRM simulation methods soon. However, each differs in what they offer (that feels like a blog post for another day). You may discover that no off-the-shelf package does exactly what you want and find yourself tweaking your choices above in light of what is feasible. It is an iterative process.\nRead more Graham Wheeler and co-authors 2 wrote a tutorial for designing dose-finding trials using the CRM. You can read more about that article here.\nFootnotes   even STAMPEDE, one imagines. \u0026#x21a9;\u0026#xfe0e;\n Wheeler, G.M., Mander, A.P., Bedding, A., Brock, K., Cornelius, V., Grieve, A.P., Jaki, T., Love, S.B., Odondi, L., Weir, C.J., Yap, C., Bond, S.J., 2019. How to design a dose-finding study using the continual reassessment method. BMC Medical Research Methodology 19. https://doi.org/10.1186/s12874-018-0638-z \u0026#x21a9;\u0026#xfe0e;\n   ","date":1579046400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1579936060,"objectID":"6ca6942914f0140b92d4a5bee480abcb","permalink":"/post/crm-simulations-checklist/","publishdate":"2020-01-15T00:00:00Z","relpermalink":"/post/crm-simulations-checklist/","section":"post","summary":"During 2019, I was working on simulations using CRM designs in several different trials. I found I would frequently get the designs mixed up:\n \u0026ldquo;We are targeting 20% toxicity in this trial, right? No, that was the other trial\u0026hellip;we are targeting 33% here\u0026hellip;\u0026rdquo;\n Similarly, once or twice, I got to the stage where I wanted to run simulations only to discover we had not specified some important design aspect, like when the trial should stop.","tags":["DoseFinding","CRM"],"title":"CRM Simulation Checklist","type":"post"},{"authors":["Kristian Brock"],"categories":[""],"content":" I have started this site to record things I am working on in R during my duties as an academic clinical trial statistician.\nFingers crossed.\n","date":1577404800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1579936060,"objectID":"8bf2a2dd1be8f912066ddc1e3092b3e6","permalink":"/post/first-post/first-post/","publishdate":"2019-12-27T00:00:00Z","relpermalink":"/post/first-post/first-post/","section":"post","summary":"I have a new website and blog. I hope to share stuff I am working on.","tags":null,"title":"First post","type":"post"},{"authors":null,"categories":null,"content":"trialr is an R package that implements Bayesian clinical trial design in Stan, a modern enviroment for probabilistic programming that implements Hamiltonian Monte Carlo Markov Chain sampling. Bayesian models are relatively abundant in early phase clinical trials where information is scarce and sensible inference is required practically from the moment the trial begins.\ntrialr implements:\n the Contimual Reassessment Method (CMR) for toxicity-based dose-finding; the time-to-event CRM for late-onset toxicity in dose-finding; the EffTox for toxicity- and efficacy-based dose-finding; Wason \u0026amp; Seaman's Augmented Binary method for fusing continuous and binary outcomes in phase II; a hierarchical model of binary responses on related subgroups; and more.  trialr is available on CRAN and is listed on my GitHub page. There is a manuscript currently under peer-review (pre-print linked below) and it has been used to analyse outcomes in a forthcoming set of clinical trial results.\nCRAN listing\n https://cran.r-project.org/package=trialr  Source code\n https://github.com/brockk/trialr  Documentation\n https://brockk.github.io/trialr/  ","date":1577404800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1586169003,"objectID":"d5aee8e6d1d55e684b37e999b3076d60","permalink":"/project/trialr/","publishdate":"2019-12-27T00:00:00Z","relpermalink":"/project/trialr/","section":"project","summary":"_trialr_ is an R package implementing Bayesian clinical trial methods in Stan.","tags":["Bayes"],"title":"The trialr package","type":"project"},{"authors":["Kristian Brock","Lucinda Billingham","Christina Yap","Gary Middleton"],"categories":null,"content":"About this publication Getting this paper published was a big deal for me because it was the first design idea I had had that was completely my own. Well, so I thought. An erudite peer-reviewer pointed out that the method (which I had named Bayesian Evaluation of Bivariate Outcomes and Predictive variables, or BEBOP) was actually a special case of a design by Thall, Nguyen \u0026amp; Estey. In response, I re-wrote the paper presenting the design as a novel refinement of their method suitable for phase II trials, called P2TNE for Phase II Thall Nguyen \u0026amp; Estey. Anyway, after being rejected twice from big journals, it was a big relief to get the paper published in the BAYSM2018 conference proceedings. It was especially classy of Springer to give a complementary hard cover copy of the book to each contributing author.\n","date":1574380800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1578603720,"objectID":"2ac3fd569218664cfcee38501d1f809d","permalink":"/publication/peps2-design/","publishdate":"2019-11-22T00:00:00Z","relpermalink":"/publication/peps2-design/","section":"publication","summary":"The experimental design presented here is motivated by a phase II clinical trial called PePS2, investigating the efficacy and safety of an immunotherapy called pembrolizumab in a specific subgroup of lung cancer patients.","tags":["Bayes"],"title":"A Phase II Clinical Trial Design for Associated Co-primary Efficacy and Toxicity Outcomes with Baseline Covariates","type":"publication"},{"authors":["Kristian Brock"],"categories":null,"content":"About this publication This publication is important to me because Clarity was my first successful grant application. It is a simple trial with modest sample size but the results are absolutely amazing, with an iwCLL response rate of 89% and minimum disease negative status achieved in the peripheral blood of 53% of patients.\n","date":1562803200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1578603720,"objectID":"3a560fde1593e4412d421ef102224fad","permalink":"/publication/clarity-results/","publishdate":"2019-07-11T00:00:00Z","relpermalink":"/publication/clarity-results/","section":"publication","summary":"The treatment of chronic lymphocytic leukemia (CLL) has been revolutionized by targeted therapies that either inhibit proliferation (ibrutinib) or reactivate apoptosis (venetoclax). Both significantly improve survival in CLL and replace chemoimmunotherapy for many patients. However, individually, they rarely lead to eradication of measurable residual disease (MRD) and usually are taken indefinitely or until progression. We present the CLARITY trial...","tags":["TrialResults","PhaseII"],"title":"Ibrutinib Plus Venetoclax in Relapsed/Refractory Chronic Lymphocytic Leukemia - The CLARITY Study","type":"publication"},{"authors":["Kristian Brock"],"categories":null,"content":"About this publication I became aware of Stan whilst working on some Bayesian clinical trial designs. I recall using Monte Carlo integration to resolve six-dimensional integrals to estimate posterior means and thinking that there must be a better way. In fact, there were probably many better ways. However, I doubt any would be as good as Stan, a probabilistic programming language and Hamiltonion Monte Carlo Markov Chain sampler. This manuscript is my first sole-author attempt at research. It was particularly pleasing to implement James Wason and Shaun Seaman's augmented binary method, an approach that will surely feature strongly if we are to wean ourselves off information-light binary response variables. trial is on CRAN.\n","date":1561766400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1578603720,"objectID":"a6abbdde3e271c9cb6805ede176cf779","permalink":"/publication/trialr/","publishdate":"2019-06-29T00:00:00Z","relpermalink":"/publication/trialr/","section":"publication","summary":"This manuscript introduces an R package called trialr that implements a collection of clinical trial methods in Stan and R. In this article, we explore three methods in detail...","tags":["trialr","Bayes"],"title":"trialr - Bayesian Clinical Trial Designs in R and Stan","type":"publication"},{"authors":[],"categories":[],"content":"Create slides in Markdown with Academic Academic | Documentation\n Features  Efficiently write slides in Markdown 3-in-1: Create, Present, and Publish your slides Supports speaker notes Mobile friendly slides   Controls  Next: Right Arrow or Space Previous: Left Arrow Start: Home Finish: End Overview: Esc Speaker notes: S Fullscreen: F Zoom: Alt + Click PDF Export: E   Code Highlighting Inline code: variable\nCode block:\nporridge = \u0026quot;blueberry\u0026quot; if porridge == \u0026quot;blueberry\u0026quot;: print(\u0026quot;Eating...\u0026quot;)   Math In-line math: $x + y = z$\nBlock math:\n$$ f\\left( x \\right) = ;\\frac{{2\\left( {x + 4} \\right)\\left( {x - 4} \\right)}}{{\\left( {x + 4} \\right)\\left( {x + 1} \\right)}} $$\n Fragments Make content appear incrementally\n{{% fragment %}} One {{% /fragment %}} {{% fragment %}} **Two** {{% /fragment %}} {{% fragment %}} Three {{% /fragment %}}  Press Space to play!\nOne  Two  Three \n A fragment can accept two optional parameters:\n class: use a custom style (requires definition in custom CSS) weight: sets the order in which a fragment appears   Speaker Notes Add speaker notes to your presentation\n{{% speaker_note %}} - Only the speaker can read these notes - Press `S` key to view {{% /speaker_note %}}  Press the S key to view the speaker notes!\n Only the speaker can read these notes Press S key to view    Themes  black: Black background, white text, blue links (default) white: White background, black text, blue links league: Gray background, white text, blue links beige: Beige background, dark text, brown links sky: Blue background, thin dark text, blue links    night: Black background, thick white text, orange links serif: Cappuccino background, gray text, brown links simple: White background, black text, blue links solarized: Cream-colored background, dark green text, blue links   Custom Slide Customize the slide style and background\n{{\u0026lt; slide background-image=\u0026quot;/img/boards.jpg\u0026quot; \u0026gt;}} {{\u0026lt; slide background-color=\u0026quot;#0000FF\u0026quot; \u0026gt;}} {{\u0026lt; slide class=\u0026quot;my-style\u0026quot; \u0026gt;}}   Custom CSS Example Let's make headers navy colored.\nCreate assets/css/reveal_custom.css with:\n.reveal section h1, .reveal section h2, .reveal section h3 { color: navy; }   Questions? Ask\nDocumentation\n","date":1549324800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1577611673,"objectID":"0e6de1a61aa83269ff13324f3167c1a9","permalink":"/slides/example/","publishdate":"2019-02-05T00:00:00Z","relpermalink":"/slides/example/","section":"slides","summary":"An introduction to using Academic's Slides feature.","tags":[],"title":"Slides","type":"slides"},{"authors":["Graham Wheeler","Adrian Mander","Alun Bedding","Kristian Brock","Victoria Cornelius","Andrew Grieve","Thomas Jaki","Sharon Love","Lang'o Odondi","Christopher Weir","Christina Yap","Simon Bond"],"categories":null,"content":"About this publication I had been a trial statistician about 6 months when I attended an NIHR workshop on early phase trial methodology in 2014. The topic of the day was the trials community's over-reliance on rule-based dose-finding methods like 3+3. This tutorial paper was produced by a group of attendees to promote model-based methods.\n","date":1547769600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1578603720,"objectID":"857c89e52a573c3631ffe2023efd556e","permalink":"/publication/crm-tutorial/","publishdate":"2019-01-18T00:00:00Z","relpermalink":"/publication/crm-tutorial/","section":"publication","summary":"The continual reassessment method (CRM) is a model-based design for phase I trials, which aims to find the maximum tolerated dose (MTD) of a new therapy. The CRM has been shown to be more accurate in targeting the MTD than traditional rule-based approaches such as the 3 + 3 design, which is used in most phase I trials.","tags":["DoseFinding","Bayes"],"title":"How to design a dose-finding study using the continual reassessment method","type":"publication"},{"authors":["Charles Craddock","Daniel Slade","Carmela De Santo","Rachel Wheat","Paul Ferguson","Andrea Hodgkinson","Kristian Brock","Jamie Cavenagh","Wendy Ingram","Mike Dennis","Ram Malladi","Shamyla Siddique","Francis Mussai","Christina Yap"],"categories":null,"content":"About this publication This paper is important to me because Viola was the first dose-finding trial that I worked on. It uses a CRM model to identify a dose of lenalidomide that is tolerable when given with azacitidine to AML and MDS patients. This was also one of my first published sets of trial results.\n","date":1547683200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1578603720,"objectID":"e411431ae1cf73154cf35ce452672707","permalink":"/publication/viola-results/","publishdate":"2019-01-17T00:00:00Z","relpermalink":"/publication/viola-results/","section":"publication","summary":"Salvage options for patients who relapse after allogeneic stem-cell transplantation (allo-SCT) for acute myeloid leukemia (AML) and myelodysplasia (MDS) remain limited, and novel treatment strategies are required. Both lenalidomide (LEN) and azacitidine (AZA) possess significant antitumor activity effect in AML.","tags":["TrialResults","DoseFinding","Bayes"],"title":"Combination Lenalidomide and Azacitidine - A Novel Salvage Therapy in Patients Who Relapse After Allogeneic Stem-Cell Transplantation for Acute Myeloid Leukemia","type":"publication"},{"authors":["Kristian Brock","Lucinda Billingham","Mhairi Copland","Shamyla Siddique","Mirjana Sirovica","Christina Yap"],"categories":null,"content":"About this publication This was my first first-author publication and a chapter in my PhD thesis. Working with EffTox was great, but challenging at times. The seamless phase I/II approach to dose-finding, where efficacy and toxicity outcomes guide dose selection, has never been more important in this era of targeted therapies in oncology. However, the EffTox design and the suite of phase I/II methods in general have been relatively underutilised. We hope this paper demonstrating our experiences with EffTox will inspire early phase trialists to look further than the 3+3.\n","date":1500508800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1578603720,"objectID":"3ed4857002ffa139b320f3d42e1cdb85","permalink":"/publication/matchpoint-design/","publishdate":"2017-07-20T00:00:00Z","relpermalink":"/publication/matchpoint-design/","section":"publication","summary":"The Matchpoint trial aims to identify the optimal dose of ponatinib to give with conventional chemotherapy consisting of fludarabine, cytarabine and idarubicin to chronic myeloid leukaemia patients in blastic transformation phase. The dose should be both tolerable and efficacious. This paper describes our experience implementing EffTox in the Matchpoint trial.","tags":["DoseFinding","Bayes"],"title":"Implementing the EffTox dose-finding design in the Matchpoint trial","type":"publication"}]